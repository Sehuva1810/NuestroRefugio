(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Q_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Df={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function MT(){if(my)return jl;my=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var gy;function UT(){return gy||(gy=1,Df.exports=MT()),Df.exports}var L=UT(),Nf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function kT(){if(py)return St;py=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function D(b){return b===null||typeof b!="object"?null:(b=C&&b[C]||b["@@iterator"],typeof b=="function"?b:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,tt={};function $(b,F,nt){this.props=b,this.context=F,this.refs=tt,this.updater=nt||H}$.prototype.isReactComponent={},$.prototype.setState=function(b,F){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,F,"setState")},$.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function dt(){}dt.prototype=$.prototype;function st(b,F,nt){this.props=b,this.context=F,this.refs=tt,this.updater=nt||H}var ot=st.prototype=new dt;ot.constructor=st,Y(ot,$.prototype),ot.isPureReactComponent=!0;var pt=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function V(b,F,nt,W,ct,bt){return nt=bt.ref,{$$typeof:s,type:b,key:F,ref:nt!==void 0?nt:null,props:bt}}function S(b,F){return V(b.type,F,void 0,void 0,void 0,b.props)}function x(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function I(b){var F={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(nt){return F[nt]})}var O=/\/+/g;function U(b,F){return typeof b=="object"&&b!==null&&b.key!=null?I(""+b.key):F.toString(36)}function w(){}function me(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(w,w):(b.status="pending",b.then(function(F){b.status==="pending"&&(b.status="fulfilled",b.value=F)},function(F){b.status==="pending"&&(b.status="rejected",b.reason=F)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function Jt(b,F,nt,W,ct){var bt=typeof b;(bt==="undefined"||bt==="boolean")&&(b=null);var yt=!1;if(b===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(b.$$typeof){case s:case e:yt=!0;break;case A:return yt=b._init,Jt(yt(b._payload),F,nt,W,ct)}}if(yt)return ct=ct(b),yt=W===""?"."+U(b,0):W,pt(ct)?(nt="",yt!=null&&(nt=yt.replace(O,"$&/")+"/"),Jt(ct,F,nt,"",function(zn){return zn})):ct!=null&&(x(ct)&&(ct=S(ct,nt+(ct.key==null||b&&b.key===ct.key?"":(""+ct.key).replace(O,"$&/")+"/")+yt)),F.push(ct)),1;yt=0;var Ce=W===""?".":W+":";if(pt(b))for(var Zt=0;Zt<b.length;Zt++)W=b[Zt],bt=Ce+U(W,Zt),yt+=Jt(W,F,nt,bt,ct);else if(Zt=D(b),typeof Zt=="function")for(b=Zt.call(b),Zt=0;!(W=b.next()).done;)W=W.value,bt=Ce+U(W,Zt++),yt+=Jt(W,F,nt,bt,ct);else if(bt==="object"){if(typeof b.then=="function")return Jt(me(b),F,nt,W,ct);throw F=String(b),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(b,F,nt){if(b==null)return b;var W=[],ct=0;return Jt(b,W,"","",function(bt){return F.call(nt,bt,ct++)}),W}function it(b){if(b._status===-1){var F=b._result;F=F(),F.then(function(nt){(b._status===0||b._status===-1)&&(b._status=1,b._result=nt)},function(nt){(b._status===0||b._status===-1)&&(b._status=2,b._result=nt)}),b._status===-1&&(b._status=0,b._result=F)}if(b._status===1)return b._result.default;throw b._result}var ut=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Vt(){}return St.Children={map:G,forEach:function(b,F,nt){G(b,function(){F.apply(this,arguments)},nt)},count:function(b){var F=0;return G(b,function(){F++}),F},toArray:function(b){return G(b,function(F){return F})||[]},only:function(b){if(!x(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},St.Component=$,St.Fragment=i,St.Profiler=o,St.PureComponent=st,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,St.__COMPILER_RUNTIME={__proto__:null,c:function(b){return mt.H.useMemoCache(b)}},St.cache=function(b){return function(){return b.apply(null,arguments)}},St.cloneElement=function(b,F,nt){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var W=Y({},b.props),ct=b.key,bt=void 0;if(F!=null)for(yt in F.ref!==void 0&&(bt=void 0),F.key!==void 0&&(ct=""+F.key),F)!Ct.call(F,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&F.ref===void 0||(W[yt]=F[yt]);var yt=arguments.length-2;if(yt===1)W.children=nt;else if(1<yt){for(var Ce=Array(yt),Zt=0;Zt<yt;Zt++)Ce[Zt]=arguments[Zt+2];W.children=Ce}return V(b.type,ct,void 0,void 0,bt,W)},St.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:h,_context:b},b},St.createElement=function(b,F,nt){var W,ct={},bt=null;if(F!=null)for(W in F.key!==void 0&&(bt=""+F.key),F)Ct.call(F,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=F[W]);var yt=arguments.length-2;if(yt===1)ct.children=nt;else if(1<yt){for(var Ce=Array(yt),Zt=0;Zt<yt;Zt++)Ce[Zt]=arguments[Zt+2];ct.children=Ce}if(b&&b.defaultProps)for(W in yt=b.defaultProps,yt)ct[W]===void 0&&(ct[W]=yt[W]);return V(b,bt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(b){return{$$typeof:g,render:b}},St.isValidElement=x,St.lazy=function(b){return{$$typeof:A,_payload:{_status:-1,_result:b},_init:it}},St.memo=function(b,F){return{$$typeof:v,type:b,compare:F===void 0?null:F}},St.startTransition=function(b){var F=mt.T,nt={};mt.T=nt;try{var W=b(),ct=mt.S;ct!==null&&ct(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Vt,ut)}catch(bt){ut(bt)}finally{mt.T=F}},St.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},St.use=function(b){return mt.H.use(b)},St.useActionState=function(b,F,nt){return mt.H.useActionState(b,F,nt)},St.useCallback=function(b,F){return mt.H.useCallback(b,F)},St.useContext=function(b){return mt.H.useContext(b)},St.useDebugValue=function(){},St.useDeferredValue=function(b,F){return mt.H.useDeferredValue(b,F)},St.useEffect=function(b,F,nt){var W=mt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(b,F)},St.useId=function(){return mt.H.useId()},St.useImperativeHandle=function(b,F,nt){return mt.H.useImperativeHandle(b,F,nt)},St.useInsertionEffect=function(b,F){return mt.H.useInsertionEffect(b,F)},St.useLayoutEffect=function(b,F){return mt.H.useLayoutEffect(b,F)},St.useMemo=function(b,F){return mt.H.useMemo(b,F)},St.useOptimistic=function(b,F){return mt.H.useOptimistic(b,F)},St.useReducer=function(b,F,nt){return mt.H.useReducer(b,F,nt)},St.useRef=function(b){return mt.H.useRef(b)},St.useState=function(b){return mt.H.useState(b)},St.useSyncExternalStore=function(b,F,nt){return mt.H.useSyncExternalStore(b,F,nt)},St.useTransition=function(){return mt.H.useTransition()},St.version="19.1.0",St}var yy;function md(){return yy||(yy=1,Nf.exports=kT()),Nf.exports}var ie=md();const LT=Q_(ie);var If={exports:{}},Bl={},Vf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function PT(){return _y||(_y=1,function(s){function e(G,it){var ut=G.length;G.push(it);t:for(;0<ut;){var Vt=ut-1>>>1,b=G[Vt];if(0<o(b,it))G[Vt]=it,G[ut]=b,ut=Vt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ut=G.pop();if(ut!==it){G[0]=ut;t:for(var Vt=0,b=G.length,F=b>>>1;Vt<F;){var nt=2*(Vt+1)-1,W=G[nt],ct=nt+1,bt=G[ct];if(0>o(W,ut))ct<b&&0>o(bt,W)?(G[Vt]=bt,G[ct]=ut,Vt=ct):(G[Vt]=W,G[nt]=ut,Vt=nt);else if(ct<b&&0>o(bt,ut))G[Vt]=bt,G[ct]=ut,Vt=ct;else break t}}return it}function o(G,it){var ut=G.sortIndex-it.sortIndex;return ut!==0?ut:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,C=null,D=3,H=!1,Y=!1,tt=!1,$=!1,dt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function pt(G){for(var it=i(v);it!==null;){if(it.callback===null)a(v);else if(it.startTime<=G)a(v),it.sortIndex=it.expirationTime,e(_,it);else break;it=i(v)}}function mt(G){if(tt=!1,pt(G),!Y)if(i(_)!==null)Y=!0,Ct||(Ct=!0,U());else{var it=i(v);it!==null&&Jt(mt,it.startTime-G)}}var Ct=!1,V=-1,S=5,x=-1;function I(){return $?!0:!(s.unstable_now()-x<S)}function O(){if($=!1,Ct){var G=s.unstable_now();x=G;var it=!0;try{t:{Y=!1,tt&&(tt=!1,st(V),V=-1),H=!0;var ut=D;try{e:{for(pt(G),C=i(_);C!==null&&!(C.expirationTime>G&&I());){var Vt=C.callback;if(typeof Vt=="function"){C.callback=null,D=C.priorityLevel;var b=Vt(C.expirationTime<=G);if(G=s.unstable_now(),typeof b=="function"){C.callback=b,pt(G),it=!0;break e}C===i(_)&&a(_),pt(G)}else a(_);C=i(_)}if(C!==null)it=!0;else{var F=i(v);F!==null&&Jt(mt,F.startTime-G),it=!1}}break t}finally{C=null,D=ut,H=!1}it=void 0}}finally{it?U():Ct=!1}}}var U;if(typeof ot=="function")U=function(){ot(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,me=w.port2;w.port1.onmessage=O,U=function(){me.postMessage(null)}}else U=function(){dt(O,0)};function Jt(G,it){V=dt(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var ut=D;D=it;try{return G()}finally{D=ut}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=D;D=G;try{return it()}finally{D=ut}},s.unstable_scheduleCallback=function(G,it,ut){var Vt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Vt+ut:Vt):ut=Vt,G){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ut+b,G={id:A++,callback:it,priorityLevel:G,startTime:ut,expirationTime:b,sortIndex:-1},ut>Vt?(G.sortIndex=ut,e(v,G),i(_)===null&&G===i(v)&&(tt?(st(V),V=-1):tt=!0,Jt(mt,ut-Vt))):(G.sortIndex=b,e(_,G),Y||H||(Y=!0,Ct||(Ct=!0,U()))),G},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(G){var it=D;return function(){var ut=D;D=it;try{return G.apply(this,arguments)}finally{D=ut}}}}(Of)),Of}var vy;function zT(){return vy||(vy=1,Vf.exports=PT()),Vf.exports}var Mf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function jT(){if(Ey)return Fe;Ey=1;var s=md();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Fe.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:C,integrity:D,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Fe.requestFormReset=function(_){a.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var Ty;function BT(){if(Ty)return Mf.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mf.exports=jT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function qT(){if(Ay)return Bl;Ay=1;var s=zT(),e=md(),i=BT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case $:return"Profiler";case tt:return"StrictMode";case mt:return"Suspense";case Ct:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case st:return(t._context.displayName||"Context")+".Consumer";case pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return me(t(n))}catch{}}return null}var Jt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Vt=[],b=-1;function F(t){return{current:t}}function nt(t){0>b||(t.current=Vt[b],Vt[b]=null,b--)}function W(t,n){b++,Vt[b]=t.current,t.current=n}var ct=F(null),bt=F(null),yt=F(null),Ce=F(null);function Zt(t,n){switch(W(yt,n),W(bt,t),W(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),W(ct,t)}function zn(){nt(ct),nt(bt),nt(yt)}function Li(t){t.memoizedState!==null&&W(Ce,t);var n=ct.current,r=Hp(n,t.type);n!==r&&(W(bt,t),W(ct,r))}function li(t){bt.current===t&&(nt(ct),nt(bt)),Ce.current===t&&(nt(Ce),Ul._currentValue=ut)}var wr=Object.prototype.hasOwnProperty,xr=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,Va=s.unstable_shouldYield,yo=s.unstable_requestPaint,pn=s.unstable_now,Cc=s.unstable_getCurrentPriorityLevel,Oa=s.unstable_ImmediatePriority,As=s.unstable_UserBlockingPriority,Dr=s.unstable_NormalPriority,Dc=s.unstable_LowPriority,bs=s.unstable_IdlePriority,Ma=s.log,_o=s.unstable_setDisableYieldValue,se=null,qt=null;function sn(t){if(typeof Ma=="function"&&_o(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var He=Math.clz32?Math.clz32:Nr,vo=Math.log,Nc=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(vo(t)/Nc|0)|0}var Ir=256,Vr=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ss(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Nn(l):(y&=E,y!==0?c=Nn(y):r||(r=E&~t,r!==0&&(c=Nn(r))))):(E=l&~f,E!==0?c=Nn(E):y!==0?c=Nn(y):r||(r=l&~t,r!==0&&(c=Nn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function La(){var t=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pa(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-He(r),X=1<<Q;E[Q]=0,R[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var B=j[Q];B!==null&&(B.lane&=-536870913)}r&=~X}l!==0&&jn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function jn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function za(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:oy(t.type))}function Eo(t,n){var r=it.p;try{return it.p=t,n()}finally{it.p=r}}var te=Math.random().toString(36).slice(2),Te="__reactFiber$"+te,ge="__reactProps$"+te,yn="__reactContainer$"+te,ja="__reactEvents$"+te,Ic="__reactListeners$"+te,ji="__reactHandles$"+te,To="__reactResources$"+te,Mr="__reactMarker$"+te;function Bi(t){delete t[Te],delete t[ge],delete t[ja],delete t[Ic],delete t[ji]}function ci(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Yp(t);t!==null;){if(r=t[Te])return r;t=Yp(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[Te]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[To];return n||(n=t[To]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Mr]=!0}var Ba=new Set,ws={};function In(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(ws[t]=n,t=0;t<n.length;t++)Ba.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ur={};function So(t){return wr.call(Ur,t)?!0:wr.call(bo,t)?!1:Ao.test(t)?Ur[t]=!0:(bo[t]=!0,!1)}function qi(t,n,r){if(So(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Hn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var kr,Ro;function fi(t){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",Ro=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+Ro}var xs=!1;function Cs(t,n){if(!t||xs)return"";xs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var j=B}Reflect.construct(t,[],X)}else{try{X.call()}catch(B){j=B}t.call(X.prototype)}}else{try{throw Error()}catch(B){j=B}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{xs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function qa(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return fi("Activity");default:return""}}function Ds(t){try{var n="";do n+=qa(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ha(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vc(t){var n=Ha(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ns(t){t._valueTracker||(t._valueTracker=Vc(t))}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ha(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function pe(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Hi(t,y,Ze(n)):r!=null?Hi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Pr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Hi(t,n,r){n==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function zr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Jt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Fa(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&wo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&wo(t,f,n[f])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Uc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Ya(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ge]||null;if(!c)throw Error(a(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ga(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var Gn=!1;function xo(t,n,r){if(Gn)return t(n,r);Gn=!0;try{var l=t(n);return l}finally{if(Gn=!1,(gi!==null||pi!==null)&&(Eu(),gi&&(n=gi,t=pi,pi=gi=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ge]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Vn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){En=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{En=!1}var Fn=null,Gi=null,yi=null;function Ka(){if(yi)return yi;var t,n=Gi,r=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function Xa(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:Xa,this.isPropagationStopped=Xa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=De(jt),Hr=A({},jt,{view:0,detail:0}),Co=De(Hr),Os,Ms,Kn,Gr=A({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Os=t.screenX-Kn.screenX,Ms=t.screenY-Kn.screenY):Ms=Os=0,Kn=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Tn=De(Gr),Do=A({},Gr,{dataTransfer:0}),kc=De(Do),Fr=A({},Hr,{relatedTarget:0}),Us=De(Fr),Za=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=De(Za),No=A({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ls=De(No),Lc=A({},jt,{data:0}),$a=De(Lc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function Yr(){return Ja}var Oo=A({},Hr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ps=De(Oo),Mo=A({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=De(Mo),_i=A({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Uo=De(_i),ko=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=De(ko),Po=A({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=De(Po),$e=A({},jt,{newState:0,oldState:0}),zo=De($e),jo=[9,13,27,32],Xn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Xn||u&&8<u&&11>=u),T=" ",k=!1;function q(t,n){switch(t){case"keyup":return jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ae(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return t=n.data,t===T&&k?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Xn&&q(t,n)?(t=Ka(),yi=Gi=Fn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=wu(n,"onChange"),0<n.length&&(r=new Vs("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ke=null,Zn=null;function tl(t){Lp(t,0)}function Bo(t){var n=qn(t);if(Ga(n))return t}function rm(t,n){if(t==="change")return n}var sm=!1;if(Vn){var Pc;if(Vn){var zc="oninput"in document;if(!zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),zc=typeof am.oninput=="function"}Pc=zc}else Pc=!1;sm=Pc&&(!document.documentMode||9<document.documentMode)}function lm(){ke&&(ke.detachEvent("onpropertychange",om),Zn=ke=null)}function om(t){if(t.propertyName==="value"&&Bo(Zn)){var n=[];vi(n,Zn,t,vn(t)),xo(tl,n)}}function cE(t,n,r){t==="focusin"?(lm(),ke=n,Zn=r,ke.attachEvent("onpropertychange",om)):t==="focusout"&&lm()}function hE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Zn)}function fE(t,n){if(t==="click")return Bo(n)}function dE(t,n){if(t==="input"||t==="change")return Bo(n)}function mE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:mE;function el(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!wr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,n){var r=um(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=um(r)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Lr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Lr(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var gE=Vn&&"documentMode"in document&&11>=document.documentMode,js=null,Bc=null,nl=null,qc=!1;function dm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qc||js==null||js!==Lr(l)||(l=js,"selectionStart"in l&&jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=wu(Bc,"onSelect"),0<l.length&&(n=new Vs("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=js)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Bs={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Hc={},mm={};Vn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Xr(t){if(Hc[t])return Hc[t];if(!Bs[t])return t;var n=Bs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in mm)return Hc[t]=n[r];return t}var gm=Xr("animationend"),pm=Xr("animationiteration"),ym=Xr("animationstart"),pE=Xr("transitionrun"),yE=Xr("transitionstart"),_E=Xr("transitioncancel"),_m=Xr("transitionend"),vm=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function On(t,n){vm.set(t,n),In(n,[t])}var Em=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Em.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ds(n)},Em.set(t,n),n)}return{value:t,source:n,stack:Ds(n)}}var bn=[],qs=0,Fc=0;function qo(){for(var t=qs,n=Fc=qs=0;n<t;){var r=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Tm(r,c,f)}}function Ho(t,n,r,l){bn[qs++]=t,bn[qs++]=n,bn[qs++]=r,bn[qs++]=l,Fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,r,l){return Ho(t,n,r,l),Go(t)}function Hs(t,n){return Ho(t,null,null,n),Go(t)}function Tm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Go(t){if(50<xl)throw xl=0,Jh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gs={};function vE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new vE(t,n,r,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Am(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Yc(t)&&(y=1);else if(typeof t=="string")y=TT(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=on(31,r,n,c),t.elementType=x,t.lanes=f,t;case Y:return Zr(r.children,c,f,n);case tt:y=8,c|=24;break;case $:return t=on(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case mt:return t=on(13,r,n,c),t.elementType=mt,t.lanes=f,t;case Ct:return t=on(19,r,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:case ot:y=10;break t;case st:y=9;break t;case pt:y=11;break t;case V:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=on(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Zr(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function Kc(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function Xc(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fs=[],Qs=0,Qo=null,Yo=0,Sn=[],Rn=0,$r=null,Ti=1,Ai="";function Jr(t,n){Fs[Qs++]=Yo,Fs[Qs++]=Qo,Qo=t,Yo=n}function bm(t,n,r){Sn[Rn++]=Ti,Sn[Rn++]=Ai,Sn[Rn++]=$r,$r=t;var l=Ti;t=Ai;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-He(n)+c|r<<c|l,Ai=f+t}else Ti=1<<f|r<<c|l,Ai=t}function Zc(t){t.return!==null&&(Jr(t,1),bm(t,1,0))}function $c(t){for(;t===Qo;)Qo=Fs[--Qs],Fs[Qs]=null,Yo=Fs[--Qs],Fs[Qs]=null;for(;t===$r;)$r=Sn[--Rn],Sn[Rn]=null,Ai=Sn[--Rn],Sn[Rn]=null,Ti=Sn[--Rn],Sn[Rn]=null}var Je=null,ae=null,zt=!1,Wr=null,$n=!1,Jc=Error(a(519));function ts(t){var n=Error(a(418,""));throw sl(An(n,t)),Jc}function Sm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[ge]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Dl.length;r++)Nt(Dl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Pr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ns(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),zr(n,l.value,l.defaultValue,l.children),Ns(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Bp(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=xu),n=!0):n=!1,n||ts(t)}function Rm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Je=Je.return}}function il(t){if(t!==Je)return!1;if(!zt)return Rm(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||gf(t.type,t.memoizedProps)),r=!r),r&&ae&&ts(t),Rm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,ar(t.type)?(t=vf,vf=null,ae=t):ae=n):ae=Je?Un(t.stateNode.nextSibling):null;return!0}function rl(){ae=Je=null,zt=!1}function wm(){var t=Wr;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),Wr=null),t}function sl(t){Wr===null?Wr=[t]:Wr.push(t)}var Wc=F(null),es=null,bi=null;function Fi(t,n,r){W(Wc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Wc.current,nt(Wc)}function th(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function eh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),th(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),th(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&eh(n,t,r,l),n.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){es=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return xm(es,t)}function Xo(t,n){return es===null&&ns(t),xm(t,n)}function xm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(a(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var EE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},TE=s.unstable_scheduleCallback,AE=s.unstable_NormalPriority,Se={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new EE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&TE(AE,function(){t.controller.abort()})}var ol=null,ih=0,Ys=0,Ks=null;function bE(t,n){if(ol===null){var r=ol=[];ih=0,Ys=af(),Ks={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ih++,n.then(Cm,Cm),n}function Cm(){if(--ih===0&&ol!==null){Ks!==null&&(Ks.status="fulfilled");var t=ol;ol=null,Ys=0,Ks=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function SE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Dm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(t,n),Dm!==null&&Dm(t,n)};var is=F(null);function rh(){var t=is.current;return t!==null?t:$t.pooledCache}function Zo(t,n){n===null?W(is,is.current):W(is,n.pool)}function Nm(){var t=rh();return t===null?null:{parent:Se._currentValue,pool:t}}var ul=Error(a(460)),Im=Error(a(474)),$o=Error(a(542)),sh={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jo(){}function Om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Jo,Jo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t;default:if(typeof n.status=="string")n.then(Jo,Jo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t}throw cl=n,ul}}var cl=null;function Mm(){if(cl===null)throw Error(a(459));var t=cl;return cl=null,t}function Um(t){if(t===ul||t===$o)throw Error(a(483))}var Qi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),Tm(t,null,r),n}return Ho(t,l,n,r),Go(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,za(t,r)}}function oh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uh=!1;function fl(){if(uh){var t=Ks;if(t!==null)throw t}}function dl(t,n,r,l){uh=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;y=0,Q=z=R=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Ut&j)===j:(l&j)===j){j!==0&&j===Ys&&(uh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,gt=E;j=n;var Kt=r;switch(gt.tag){case 1:if(Et=gt.payload,typeof Et=="function"){X=Et.call(Kt,X,j);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=gt.payload,j=typeof Et=="function"?Et.call(Kt,X,j):Et,j==null)break t;X=A({},X,j);break t;case 2:Qi=!0}}j=E.callback,j!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=B,R=X):Q=Q.next=B,y|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);Q===null&&(R=X),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),nr|=y,t.lanes=y,t.memoizedState=X}}function km(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Lm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)km(r[t],n)}var Xs=F(null),Wo=F(0);function Pm(t,n){t=Ii,W(Wo,t),W(Xs,n),Ii=t|n.baseLanes}function ch(){W(Wo,Ii),W(Xs,Xs.current)}function hh(){Ii=Wo.current,nt(Xs),nt(Wo)}var Xi=0,Rt=null,Qt=null,ye=null,tu=!1,Zs=!1,rs=!1,eu=0,ml=0,$s=null,RE=0;function he(){throw Error(a(321))}function fh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function dh(t,n,r,l,c,f){return Xi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Tg:Ag,rs=!1,f=r(l,c),rs=!1,Zs&&(f=jm(n,r,l,c)),zm(t),f}function zm(t){G.H=lu;var n=Qt!==null&&Qt.next!==null;if(Xi=0,ye=Qt=Rt=null,tu=!1,ml=0,$s=null,n)throw Error(a(300));t===null||Ie||(t=t.dependencies,t!==null&&Ko(t)&&(Ie=!0))}function jm(t,n,r,l){Rt=t;var c=0;do{if(Zs&&($s=null),ml=0,Zs=!1,25<=c)throw Error(a(301));if(c+=1,ye=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=VE,f=n(r,l)}while(Zs);return f}function wE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function mh(){var t=eu!==0;return eu=0,t}function gh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ph(t){if(tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tu=!1}Xi=0,ye=Qt=Rt=null,Zs=!1,ml=eu=0,$s=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Rt.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Qt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ye===null?Rt.memoizedState:ye.next;if(n!==null)ye=n,Qt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?Rt.memoizedState=ye=t:ye=ye.next=t}return ye}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,$s===null&&($s=[]),t=Om($s,t,n),n=Rt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Tg:Ag),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ot)return Ge(t)}throw Error(a(438,String(t)))}function _h(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=yh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function iu(t){var n=_e();return vh(n,Qt,t)}function vh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(Xi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ys&&(Q=!0);else if((Xi&j)===j){z=z.next,j===Ys&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,Rt.lanes|=j,nr|=j;X=z.action,rs&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Rt.lanes|=X,nr|=X;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!ln(f,t.memoizedState)&&(Ie=!0,Q&&(r=Ks,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Eh(t){var n=_e(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Bm(t,n,r){var l=Rt,c=_e(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Gm.bind(null,l,c,t);if(pl(2048,8,E,[t]),c.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Js(9,ru(),Hm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Xi&124)!==0||qm(l,n,r)}return r}function qm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=yh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Hm(t,n,r,l){n.value=r,n.getSnapshot=l,Fm(n)&&Qm(t)}function Gm(t,n,r){return r(function(){Fm(n)&&Qm(t)})}function Fm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Qm(t){var n=Hs(t,2);n!==null&&dn(n,t,2)}function Th(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),rs){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Ym(t,n,r,l){return t.baseState=r,vh(t,Qt,typeof l=="function"?l:Ri)}function xE(t,n,r,l,c){if(au(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Km(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Km(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(c,l),R=G.S;R!==null&&R(y,E),Xm(t,n,E)}catch(z){Ah(t,n,z)}finally{G.T=f}}else try{f=r(c,l),Xm(t,n,f)}catch(z){Ah(t,n,z)}}function Xm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Zm(t,n,l)},function(l){return Ah(t,n,l)}):Zm(t,n,r)}function Zm(t,n,r){n.status="fulfilled",n.value=r,$m(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Km(t,r)))}function Ah(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,$m(n),n=n.next;while(n!==l)}t.action=null}function $m(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jm(t,n){return n}function Wm(t,n){if(zt){var r=$t.formState;if(r!==null){t:{var l=Rt;if(zt){if(ae){e:{for(var c=ae,f=$n;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Un(c.nextSibling),l=c.data==="F!";break t}}ts(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:n},r.queue=l,r=_g.bind(null,Rt,l),l.dispatch=r,l=Th(!1),f=xh.bind(null,Rt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=xE.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function tg(t){var n=_e();return eg(n,Qt,t)}function eg(t,n,r){if(n=vh(t,n,Jm)[0],t=iu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(y){throw y===ul?$o:y}else l=n;n=_e();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Js(9,ru(),CE.bind(null,c,r),null)),[l,f,t]}function CE(t,n){t.action=n}function ng(t){var n=_e(),r=Qt;if(r!==null)return eg(n,r,t);_e(),n=n.memoizedState,r=_e();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Js(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=yh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ru(){return{destroy:void 0,resource:void 0}}function ig(){return _e().memoizedState}function su(t,n,r,l){var c=tn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Js(1|n,ru(),r,l)}function pl(t,n,r,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&fh(l,Qt.memoizedState.deps)?c.memoizedState=Js(n,f,r,l):(Rt.flags|=t,c.memoizedState=Js(1|n,f,r,l))}function rg(t,n){su(8390656,8,t,n)}function sg(t,n){pl(2048,8,t,n)}function ag(t,n){return pl(4,2,t,n)}function lg(t,n){return pl(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ug(t,n,r){r=r!=null?r.concat([t]):null,pl(4,4,og.bind(null,n,t),r)}function bh(){}function cg(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function hg(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),rs){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l}function Sh(t,n,r){return r===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=mp(),Rt.lanes|=t,nr|=t,r)}function fg(t,n,r,l){return ln(r,n)?r:Xs.current!==null?(t=Sh(t,r,l),ln(t,n)||(Ie=!0),t):(Xi&42)===0?(Ie=!0,t.memoizedState=r):(t=mp(),Rt.lanes|=t,nr|=t,n)}function dg(t,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,xh(t,!1,n,r);try{var R=c(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=SE(R,l);yl(t,n,Q,fn(t))}else yl(t,n,l,fn(t))}catch(X){yl(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{it.p=f,G.T=y}}function DE(){}function Rh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=mg(t).queue;dg(t,c,n,ut,r===null?DE:function(){return gg(t),r(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gg(t){var n=mg(t).next.queue;yl(t,n,{},fn())}function wh(){return Ge(Ul)}function pg(){return _e().memoizedState}function yg(){return _e().memoizedState}function NE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Yi(r);var l=Ki(n,t,r);l!==null&&(dn(l,n,r),hl(l,n,r)),n={cache:nh()},t.payload=n;return}n=n.return}}function IE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},au(t)?vg(n,r):(r=Qc(t,n,r,l),r!==null&&(dn(r,t,l),Eg(r,n,l)))}function _g(t,n,r){var l=fn();yl(t,n,r,l)}function yl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(t))vg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return Ho(t,n,c,0),$t===null&&qo(),!1}catch{}finally{}if(r=Qc(t,n,c,l),r!==null)return dn(r,t,l),Eg(r,n,l),!0}return!1}function xh(t,n,r,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(a(479))}else n=Qc(t,r,l,2),n!==null&&dn(n,t,2)}function au(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function vg(t,n){Zs=tu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Eg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,za(t,r)}}var lu={readContext:Ge,use:nu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Tg={readContext:Ge,use:nu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:rg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,su(4194308,4,og.bind(null,n,t),r)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(rs){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(rs){sn(!0);try{r(n)}finally{sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=IE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Th(t);var n=t.queue,r=_g.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:bh,useDeferredValue:function(t,n){var r=tn();return Sh(r,t,n)},useTransition:function(){var t=Th(!1);return t=dg.bind(null,Rt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=tn();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ut&124)!==0||qm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,rg(Gm.bind(null,l,f,t),[t]),l.flags|=2048,Js(9,ru(),Hm.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=$t.identifierPrefix;if(zt){var r=Ai,l=Ti;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=eu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=RE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:_h,useCacheRefresh:function(){return tn().memoizedState=NE.bind(null,Rt)}},Ag={readContext:Ge,use:nu,useCallback:cg,useContext:Ge,useEffect:sg,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:hg,useReducer:iu,useRef:ig,useState:function(){return iu(Ri)},useDebugValue:bh,useDeferredValue:function(t,n){var r=_e();return fg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=iu(Ri)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Bm,useId:pg,useHostTransitionStatus:wh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var r=_e();return Ym(r,Qt,t,n)},useMemoCache:_h,useCacheRefresh:yg},VE={readContext:Ge,use:nu,useCallback:cg,useContext:Ge,useEffect:sg,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:hg,useReducer:Eh,useRef:ig,useState:function(){return Eh(Ri)},useDebugValue:bh,useDeferredValue:function(t,n){var r=_e();return Qt===null?Sh(r,t,n):fg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Eh(Ri)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Bm,useId:pg,useHostTransitionStatus:wh,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var r=_e();return Qt!==null?Ym(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:_h,useCacheRefresh:yg},Ws=null,_l=0;function ou(t){var n=_l;return _l+=1,Ws===null&&(Ws=[]),Om(Ws,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function bg(t){var n=t._init;return n(t._payload)}function Sg(t){function n(M,N){if(t){var P=M.deletions;P===null?(M.deletions=[N],M.flags|=16):P.push(N)}}function r(M,N){if(!t)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=Ei(M,N),M.index=0,M.sibling=null,M}function f(M,N,P){return M.index=P,t?(P=M.alternate,P!==null?(P=P.index,P<N?(M.flags|=67108866,N):P):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,P,K){return N===null||N.tag!==6?(N=Kc(P,M.mode,K),N.return=M,N):(N=c(N,P),N.return=M,N)}function R(M,N,P,K){var at=P.type;return at===Y?Q(M,N,P.props.children,K,P.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&bg(at)===N.type)?(N=c(N,P.props),vl(N,P),N.return=M,N):(N=Fo(P.type,P.key,P.props,null,M.mode,K),vl(N,P),N.return=M,N)}function z(M,N,P,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Xc(P,M.mode,K),N.return=M,N):(N=c(N,P.children||[]),N.return=M,N)}function Q(M,N,P,K,at){return N===null||N.tag!==7?(N=Zr(P,M.mode,K,at),N.return=M,N):(N=c(N,P),N.return=M,N)}function X(M,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Kc(""+N,M.mode,P),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return P=Fo(N.type,N.key,N.props,null,M.mode,P),vl(P,N),P.return=M,P;case H:return N=Xc(N,M.mode,P),N.return=M,N;case S:var K=N._init;return N=K(N._payload),X(M,N,P)}if(Jt(N)||U(N))return N=Zr(N,M.mode,P,null),N.return=M,N;if(typeof N.then=="function")return X(M,ou(N),P);if(N.$$typeof===ot)return X(M,Xo(M,N),P);uu(M,N)}return null}function j(M,N,P,K){var at=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return at!==null?null:E(M,N,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===at?R(M,N,P,K):null;case H:return P.key===at?z(M,N,P,K):null;case S:return at=P._init,P=at(P._payload),j(M,N,P,K)}if(Jt(P)||U(P))return at!==null?null:Q(M,N,P,K,null);if(typeof P.then=="function")return j(M,N,ou(P),K);if(P.$$typeof===ot)return j(M,N,Xo(M,P),K);uu(M,P)}return null}function B(M,N,P,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(P)||null,E(N,M,""+K,at);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return M=M.get(K.key===null?P:K.key)||null,R(N,M,K,at);case H:return M=M.get(K.key===null?P:K.key)||null,z(N,M,K,at);case S:var xt=K._init;return K=xt(K._payload),B(M,N,P,K,at)}if(Jt(K)||U(K))return M=M.get(P)||null,Q(N,M,K,at,null);if(typeof K.then=="function")return B(M,N,P,ou(K),at);if(K.$$typeof===ot)return B(M,N,P,Xo(N,K),at);uu(N,K)}return null}function Et(M,N,P,K){for(var at=null,xt=null,ht=N,_t=N=0,Oe=null;ht!==null&&_t<P.length;_t++){ht.index>_t?(Oe=ht,ht=null):Oe=ht.sibling;var Pt=j(M,ht,P[_t],K);if(Pt===null){ht===null&&(ht=Oe);break}t&&ht&&Pt.alternate===null&&n(M,ht),N=f(Pt,N,_t),xt===null?at=Pt:xt.sibling=Pt,xt=Pt,ht=Oe}if(_t===P.length)return r(M,ht),zt&&Jr(M,_t),at;if(ht===null){for(;_t<P.length;_t++)ht=X(M,P[_t],K),ht!==null&&(N=f(ht,N,_t),xt===null?at=ht:xt.sibling=ht,xt=ht);return zt&&Jr(M,_t),at}for(ht=l(ht);_t<P.length;_t++)Oe=B(ht,M,_t,P[_t],K),Oe!==null&&(t&&Oe.alternate!==null&&ht.delete(Oe.key===null?_t:Oe.key),N=f(Oe,N,_t),xt===null?at=Oe:xt.sibling=Oe,xt=Oe);return t&&ht.forEach(function(hr){return n(M,hr)}),zt&&Jr(M,_t),at}function gt(M,N,P,K){if(P==null)throw Error(a(151));for(var at=null,xt=null,ht=N,_t=N=0,Oe=null,Pt=P.next();ht!==null&&!Pt.done;_t++,Pt=P.next()){ht.index>_t?(Oe=ht,ht=null):Oe=ht.sibling;var hr=j(M,ht,Pt.value,K);if(hr===null){ht===null&&(ht=Oe);break}t&&ht&&hr.alternate===null&&n(M,ht),N=f(hr,N,_t),xt===null?at=hr:xt.sibling=hr,xt=hr,ht=Oe}if(Pt.done)return r(M,ht),zt&&Jr(M,_t),at;if(ht===null){for(;!Pt.done;_t++,Pt=P.next())Pt=X(M,Pt.value,K),Pt!==null&&(N=f(Pt,N,_t),xt===null?at=Pt:xt.sibling=Pt,xt=Pt);return zt&&Jr(M,_t),at}for(ht=l(ht);!Pt.done;_t++,Pt=P.next())Pt=B(ht,M,_t,Pt.value,K),Pt!==null&&(t&&Pt.alternate!==null&&ht.delete(Pt.key===null?_t:Pt.key),N=f(Pt,N,_t),xt===null?at=Pt:xt.sibling=Pt,xt=Pt);return t&&ht.forEach(function(OT){return n(M,OT)}),zt&&Jr(M,_t),at}function Kt(M,N,P,K){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:t:{for(var at=P.key;N!==null;){if(N.key===at){if(at=P.type,at===Y){if(N.tag===7){r(M,N.sibling),K=c(N,P.props.children),K.return=M,M=K;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&bg(at)===N.type){r(M,N.sibling),K=c(N,P.props),vl(K,P),K.return=M,M=K;break t}r(M,N);break}else n(M,N);N=N.sibling}P.type===Y?(K=Zr(P.props.children,M.mode,K,P.key),K.return=M,M=K):(K=Fo(P.type,P.key,P.props,null,M.mode,K),vl(K,P),K.return=M,M=K)}return y(M);case H:t:{for(at=P.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(M,N.sibling),K=c(N,P.children||[]),K.return=M,M=K;break t}else{r(M,N);break}else n(M,N);N=N.sibling}K=Xc(P,M.mode,K),K.return=M,M=K}return y(M);case S:return at=P._init,P=at(P._payload),Kt(M,N,P,K)}if(Jt(P))return Et(M,N,P,K);if(U(P)){if(at=U(P),typeof at!="function")throw Error(a(150));return P=at.call(P),gt(M,N,P,K)}if(typeof P.then=="function")return Kt(M,N,ou(P),K);if(P.$$typeof===ot)return Kt(M,N,Xo(M,P),K);uu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(M,N.sibling),K=c(N,P),K.return=M,M=K):(r(M,N),K=Kc(P,M.mode,K),K.return=M,M=K),y(M)):r(M,N)}return function(M,N,P,K){try{_l=0;var at=Kt(M,N,P,K);return Ws=null,at}catch(ht){if(ht===ul||ht===$o)throw ht;var xt=on(29,ht,null,M.mode);return xt.lanes=K,xt.return=M,xt}finally{}}}var ta=Sg(!0),Rg=Sg(!1),wn=F(null),Jn=null;function Zi(t){var n=t.alternate;W(Re,Re.current&1),W(wn,t),Jn===null&&(n===null||Xs.current!==null||n.memoizedState!==null)&&(Jn=t)}function wg(t){if(t.tag===22){if(W(Re,Re.current),W(wn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else $i()}function $i(){W(Re,Re.current),W(wn,wn.current)}function wi(t){nt(wn),Jn===t&&(Jn=null),nt(Re)}var Re=F(0);function cu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||_f(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Yi(l);c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Yi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Yi(r);l.tag=2,n!=null&&(l.callback=n),n=Ki(t,l,r),n!==null&&(dn(n,t,r),hl(n,t,r))}};function xg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!el(r,l)||!el(c,f):!0}function Cg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function ss(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Dg(t){hu(t)}function Ng(t){console.error(t)}function Ig(t){hu(t)}function fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,r){return r=Yi(r),r.tag=3,r.payload={element:null},r.callback=function(){fu(t,n)},r}function Og(t){return t=Yi(t),t.tag=3,t}function Mg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Vg(n,r,l),typeof c!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function OE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&al(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Jn===null?tf():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),nf(t,l,c)),!1;case 22:return r.flags|=65536,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),nf(t,l,c)),!1}throw Error(a(435,r.tag))}return nf(t,l,c),tf(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Jc&&(t=Error(a(422),{cause:l}),sl(An(t,r)))):(l!==Jc&&(n=Error(a(423),{cause:l}),sl(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=Nh(t.stateNode,l,c),oh(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=An(f,r),wl===null?wl=[f]:wl.push(f),le!==4&&(le=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Nh(r.stateNode,l,t),oh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Og(c),Mg(c,t,r,l),oh(r,c),!1}r=r.return}while(r!==null);return!1}var Ug=Error(a(461)),Ie=!1;function Le(t,n,r,l){n.child=t===null?Rg(n,null,r,l):ta(n,t.child,r,l)}function kg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ns(n),l=dh(t,n,r,y,f,c),E=mh(),t!==null&&!Ie?(gh(t,n,c),xi(t,n,c)):(zt&&E&&Zc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Lg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Pg(t,n,f,l,c)):(t=Fo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(y,l)&&t.ref===n.ref)return xi(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function Pg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Ph(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,xi(t,n,c)}return Ih(t,n,r,l,c)}function zg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return jg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,f!==null?f.cachePool:null),f!==null?Pm(n,f):ch(),wg(n);else return n.lanes=n.childLanes=536870912,jg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Zo(n,f.cachePool),Pm(n,f),$i(),n.memoizedState=null):(t!==null&&Zo(n,null),ch(),$i());return Le(t,n,c,r),n.child}function jg(t,n,r,l){var c=rh();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Zo(n,null),ch(),wg(n),t!==null&&al(t,n,l,!0),null}function du(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ih(t,n,r,l,c){return ns(n),r=dh(t,n,r,l,void 0,c),l=mh(),t!==null&&!Ie?(gh(t,n,c),xi(t,n,c)):(zt&&l&&Zc(n),n.flags|=1,Le(t,n,r,c),n.child)}function Bg(t,n,r,l,c,f){return ns(n),n.updateQueue=null,r=jm(n,l,r,c),zm(t),l=mh(),t!==null&&!Ie?(gh(t,n,f),xi(t,n,f)):(zt&&l&&Zc(n),n.flags|=1,Le(t,n,r,f),n.child)}function qg(t,n,r,l,c){if(ns(n),n.stateNode===null){var f=Gs,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Gs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ch(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ss(r,E);f.props=R;var z=f.context,Q=r.contextType;y=Gs,typeof Q=="object"&&Q!==null&&(y=Ge(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Cg(n,f,l,y),Qi=!1;var j=n.memoizedState;f.state=j,dl(n,l,f,c),fl(),z=n.memoizedState,E||j!==z||Qi?(typeof X=="function"&&(Ch(n,r,X,l),z=n.memoizedState),(R=Qi||xg(n,r,R,l,j,z,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),y=n.memoizedProps,Q=ss(r,y),f.props=Q,X=n.pendingProps,j=f.context,z=r.contextType,R=Gs,typeof z=="object"&&z!==null&&(R=Ge(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||j!==R)&&Cg(n,f,l,R),Qi=!1,j=n.memoizedState,f.state=j,dl(n,l,f,c),fl();var B=n.memoizedState;y!==X||j!==B||Qi||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof E=="function"&&(Ch(n,r,E,l),B=n.memoizedState),(Q=Qi||xg(n,r,Q,l,j,B,R)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,du(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,c),n.child=ta(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=xi(t,n,c),t}function Hg(t,n,r,l){return rl(),n.flags|=256,Le(t,n,r,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:Nm()}}function Mh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=xn),t}function Gg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Zi(n):$i(),zt){var E=ae,R;if(R=E){t:{for(R=E,E=$n;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:$r!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,ae=null,R=!0):R=!1}R||ts(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return _f(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?($i(),c=n.mode,E=mu({mode:"hidden",children:E},c),l=Zr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(r),c.childLanes=Mh(t,y,r),n.memoizedState=Vh,l):(Zi(n),Uh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=kh(t,n,r)):n.memoizedState!==null?($i(),n.child=t.child,n.flags|=128,n=null):($i(),c=l.fallback,E=n.mode,l=mu({mode:"visible",children:l.children},E),c=Zr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=Oh(r),l.childLanes=Mh(t,y,r),n.memoizedState=Vh,n=c);else if(Zi(n),_f(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,sl({value:l,source:null,stack:null}),n=kh(t,n,r)}else if(Ie||al(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Pi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Hs(t,l),dn(y,t,l),Ug;E.data==="$?"||tf(),n=kh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=Un(E.nextSibling),Je=n,zt=!0,Wr=null,$n=!1,t!==null&&(Sn[Rn++]=Ti,Sn[Rn++]=Ai,Sn[Rn++]=$r,Ti=t.id,Ai=t.overflow,$r=n),n=Uh(n,l.children),n.flags|=4096);return n}return c?($i(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Ei(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Ei(z,c):(c=Zr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(r):(R=E.cachePool,R!==null?(z=Se._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Nm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Mh(t,y,r),n.memoizedState=Vh,l):(Zi(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Uh(t,n){return n=mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kh(t,n,r){return ta(n,t.child,null,r),t=Uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),th(t.return,n,r)}function Lh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Qg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,r,n);else if(t.tag===19)Fg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&cu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Lh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&cu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Lh(n,!0,r,null,f);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function ME(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Fi(n,Se,t.memoizedState.cache),rl();break;case 27:case 5:Li(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gg(t,n,r):(Zi(n),t=xi(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(al(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Qg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,zg(t,n,r);case 24:Fi(n,Se,t.memoizedState.cache)}return xi(t,n,r)}function Yg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Ph(t,r)&&(n.flags&128)===0)return Ie=!1,ME(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,zt&&(n.flags&1048576)!==0&&bm(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Yc(l)?(t=ss(l,t),n.tag=1,n=qg(null,n,l,t,r)):(n.tag=0,n=Ih(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===pt){n.tag=11,n=kg(null,n,l,t,r);break t}else if(c===V){n.tag=14,n=Lg(null,n,l,t,r);break t}}throw n=me(l)||l,Error(a(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ss(l,n.pendingProps),qg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,lh(t,n),dl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Fi(n,Se,l),l!==f.cache&&eh(n,[Se],r,!0),fl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,r);break t}else if(l!==c){c=An(Error(a(424)),n),sl(c),n=Hg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Un(t.firstChild),Je=n,zt=!0,Wr=null,$n=!0,r=Rg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(rl(),l===c){n=xi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return du(t,n),t===null?(r=$p(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=Cu(yt.current).createElement(r),l[Te]=n,l[ge]=t,ze(l,r,t),ce(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&zt&&(l=n.stateNode=Kp(n.type,n.pendingProps,yt.current),Je=n,$n=!0,c=ae,ar(n.type)?(vf=c,ae=Un(l.firstChild)):ae=c),Le(t,n,n.pendingProps.children,r),du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ae)&&(l=oT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Je=n,ae=Un(l.firstChild),$n=!1,c=!0):c=!1),c||ts(n)),Li(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,gf(c,f)?l=null:y!==null&&gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,wE,null,null,r),Ul._currentValue=c),du(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=ae)&&(r=uT(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Je=n,ae=null,t=!0):t=!1),t||ts(n)),null;case 13:return Gg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):Le(t,n,l,r),n.child;case 11:return kg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ns(n),c=Ge(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Lg(t,n,n.type,n.pendingProps,r);case 15:return Pg(t,n,n.type,n.pendingProps,r);case 19:return Qg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=mu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return zg(t,n,r);case 24:return ns(n),l=Ge(Se),t===null?(c=rh(),c===null&&(c=$t,f=nh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ah(n),Fi(n,Se,c)):((t.lanes&r)!==0&&(lh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,Se,l)):(l=f.cache,Fi(n,Se,l),l!==c.cache&&eh(n,[Se],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ci(t){t.flags|=4}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ny(n)){if(n=wn.current,n!==null&&((Ut&4194048)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Jn))throw cl=sh,Im;t.flags|=8192}}function gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?La():536870912,t.lanes|=n,ra|=n)}function El(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function UE(t,n,r){var l=n.pendingProps;switch($c(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Se),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(ne(n),Kg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),ne(n),Kg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ne(n),n.flags&=-16777217),null;case 27:li(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=ct.current,il(n)?Sm(n):(t=Kp(c,l,r),n.stateNode=t,Ci(n))}return ne(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=ct.current,il(n))Sm(n);else{switch(c=Cu(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[ge]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yt.current,il(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,r)),t||ts(n)}else t=Cu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),gu(n,n.updateQueue),ne(n),null;case 4:return zn(),t===null&&cf(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(nt(Re),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)El(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=cu(t),f!==null){for(n.flags|=128,El(c,!1),t=f.updateQueue,n.updateQueue=t,gu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Am(r,t),r=r.sibling;return W(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>_u&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304)}else{if(!l)if(t=cu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,gu(n,t),El(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return ne(n),null}else 2*pn()-c.renderingStartTime>_u&&r!==536870912&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=Re.current,W(Re,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return wi(n),hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&gu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(is),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kE(t,n){switch($c(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Se),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));rl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Re),null;case 4:return zn(),null;case 10:return Si(n.type),null;case 22:case 23:return wi(n),hh(),t!==null&&nt(is),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Se),null;case 25:return null;default:return null}}function Xg(t,n){switch($c(n),n.tag){case 3:Si(Se),zn();break;case 26:case 27:case 5:li(n);break;case 4:zn();break;case 13:wi(n);break;case 19:nt(Re);break;case 10:Si(n.type);break;case 22:case 23:wi(n),hh(),t!==null&&nt(is);break;case 24:Si(Se)}}function Tl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Ji(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(Q){Xt(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function Zg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Lm(n,r)}catch(l){Xt(t,t.return,l)}}}function $g(t,n,r){r.props=ss(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Wn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Jg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function zh(t,n,r){try{var l=t.stateNode;iT(l,t.type,r,n),l[ge]=n}catch(c){Xt(t,t.return,c)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=xu));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,r),t=t.sibling;t!==null;)Bh(t,n,r),t=t.sibling}function pu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(pu(t,n,r),t=t.sibling;t!==null;)pu(t,n,r),t=t.sibling}function tp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[Te]=t,n[ge]=r}catch(f){Xt(t,t.return,f)}}var Di=!1,fe=!1,qh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function LE(t,n){if(t=t.containerInfo,df=Mu,t=fm(t),jc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,z=0,Q=0,X=t,j=null;e:for(;;){for(var B;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(R=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(B=X.firstChild)!==null;)j=X,X=B;for(;;){if(X===t)break e;if(j===r&&++z===c&&(E=y),j===f&&++Q===l&&(R=y),(B=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(mf={focusedElem:t,selectionRange:r},Mu=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=ss(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Xt(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)yf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function np(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(t,r),l&4&&Tl(5,r);break;case 1:if(Wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ss(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Zg(r),l&512&&Al(r,r.return);break;case 3:if(Wi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Lm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&tp(r);case 26:case 5:Wi(t,r),n===null&&l&4&&Jg(r),l&512&&Al(r,r.return);break;case 12:Wi(t,r);break;case 13:Wi(t,r),l&4&&sp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QE.bind(null,r),cT(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||fe,c=Di;var f=fe;Di=l,(fe=n)&&!f?tr(t,r,(r.subtreeFlags&8772)!==0):Wi(t,r),Di=c,fe=f}break;case 30:break;default:Wi(t,r)}}function ip(t){var n=t.alternate;n!==null&&(t.alternate=null,ip(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,en=!1;function Ni(t,n,r){for(r=r.child;r!==null;)rp(t,n,r),r=r.sibling}function rp(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:fe||Wn(r,n),Ni(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Wn(r,n);var l=ee,c=en;ar(r.type)&&(ee=r.stateNode,en=!1),Ni(t,n,r),Il(r.stateNode),ee=l,en=c;break;case 5:fe||Wn(r,n);case 6:if(l=ee,c=en,ee=null,Ni(t,n,r),ee=l,en=c,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ee!==null&&(en?(t=ee,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zl(t)):Qp(ee,r.stateNode));break;case 4:l=ee,c=en,ee=r.stateNode.containerInfo,en=!0,Ni(t,n,r),ee=l,en=c;break;case 0:case 11:case 14:case 15:fe||Ji(2,r,n),fe||Ji(4,r,n),Ni(t,n,r);break;case 1:fe||(Wn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&$g(r,n,l)),Ni(t,n,r);break;case 21:Ni(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ni(t,n,r),fe=l;break;default:Ni(t,n,r)}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(r){Xt(n,n.return,r)}}function PE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(a(435,t.tag))}}function Hh(t,n){var r=PE(t);n.forEach(function(l){var c=YE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){ee=E.stateNode,en=!1;break t}break;case 5:ee=E.stateNode,en=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ee===null)throw Error(a(160));rp(f,y,c),ee=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var Mn=null;function ap(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(Ji(3,t,t.return),Tl(3,t),Ji(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(fe||r===null||Wn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(un(n,t),cn(t),l&512&&(fe||r===null||Wn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[Te]=t,ce(f),l=f;break t;case"link":var y=ty("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=ty("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=t,ce(f),l=f}t.stateNode=l}else ey(c,t.type,t.stateNode);else t.stateNode=Wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ey(c,t.type,t.stateNode):Wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(fe||r===null||Wn(r,r.return)),r!==null&&l&4&&zh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(fe||r===null||Wn(r,r.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(B){Xt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Xt(t,t.return,B)}}break;case 3:if(Iu=null,c=Mn,Mn=Du(n.containerInfo),un(n,t),Mn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(B){Xt(t,t.return,B)}qh&&(qh=!1,lp(t));break;case 4:l=Mn,Mn=Du(t.stateNode.containerInfo),un(n,t),cn(t),Mn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xh=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Di,Q=fe;if(Di=z||c,fe=Q||R,un(n,t),fe=Q,Di=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Di||fe||as(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){Xt(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){Xt(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Hh(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Wg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=jh(t);pu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(_n(y,""),r.flags&=-33);var E=jh(t);pu(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,z=jh(t);Bh(t,z,R);break;default:throw Error(a(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)np(t,n.alternate,n),n=n.sibling}function as(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ji(4,n,n.return),as(n);break;case 1:Wn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$g(n,n.return,r),as(n);break;case 27:Il(n.stateNode);case 26:case 5:Wn(n,n.return),as(n);break;case 22:n.memoizedState===null&&as(n);break;case 30:as(n);break;default:as(n)}t=t.sibling}}function tr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:tr(c,f,r),Tl(4,f);break;case 1:if(tr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)km(R[c],E)}catch(z){Xt(l,l.return,z)}}r&&y&64&&Zg(f),Al(f,f.return);break;case 27:tp(f);case 26:case 5:tr(c,f,r),r&&l===null&&y&4&&Jg(f),Al(f,f.return);break;case 12:tr(c,f,r);break;case 13:tr(c,f,r),r&&y&4&&sp(c,f);break;case 22:f.memoizedState===null&&tr(c,f,r),Al(f,f.return);break;case 30:break;default:tr(c,f,r)}n=n.sibling}}function Gh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Fh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function ti(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)op(t,n,r,l),n=n.sibling}function op(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,r,l),c&2048&&Tl(9,n);break;case 1:ti(t,n,r,l);break;case 3:ti(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){ti(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else ti(t,n,r,l);break;case 13:ti(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,r,l):bl(t,n):f._visibility&2?ti(t,n,r,l):(f._visibility|=2,ea(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Gh(y,n);break;case 24:ti(t,n,r,l),c&2048&&Fh(n.alternate,n);break;default:ti(t,n,r,l)}}function ea(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:ea(f,y,E,R,c),Tl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?ea(f,y,E,R,c):bl(f,y):(Q._visibility|=2,ea(f,y,E,R,c)),c&&z&2048&&Gh(y.alternate,y);break;case 24:ea(f,y,E,R,c),c&&z&2048&&Fh(y.alternate,y);break;default:ea(f,y,E,R,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:bl(r,l),c&2048&&Gh(l.alternate,l);break;case 24:bl(r,l),c&2048&&Fh(l.alternate,l);break;default:bl(r,l)}n=n.sibling}}var Sl=8192;function na(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 26:na(t),t.flags&Sl&&t.memoizedState!==null&&bT(Mn,t.memoizedState,t.memoizedProps);break;case 5:na(t);break;case 3:case 4:var n=Mn;Mn=Du(t.stateNode.containerInfo),na(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Sl,Sl=16777216,na(t),Sl=n):na(t));break;default:na(t)}}function cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,fp(l,t)}cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yu(t)):Rl(t);break;default:Rl(t)}}function yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,fp(l,t)}cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ji(8,n,n.return),yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,yu(n));break;default:yu(n)}t=t.sibling}}function fp(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Ji(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(ip(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var zE={getCacheForType:function(t){var n=Ge(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},jE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Dt=null,Ut=0,Gt=0,hn=null,er=!1,ia=!1,Qh=!1,Ii=0,le=0,nr=0,ls=0,Yh=0,xn=0,ra=0,wl=null,nn=null,Kh=!1,Xh=0,_u=1/0,vu=null,ir=null,Pe=0,rr=null,sa=null,aa=0,Zh=0,$h=null,dp=null,xl=0,Jh=null;function fn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(G.T!==null){var t=Ys;return t!==0?t:af()}return zi()}function mp(){xn===0&&(xn=(Ut&536870912)===0||zt?ka():536870912);var t=wn.current;return t!==null&&(t.flags|=32),xn}function dn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(la(t,0),sr(t,Ut,xn,!1)),ui(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ls|=r),le===4&&sr(t,Ut,xn,!1)),ei(t))}function gp(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?HE(t,n):ef(t,n,!0),f=l;do{if(c===0){ia&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!BE(r)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=wl;var R=E.current.memoizedState.isDehydrated;if(R&&(la(E,y).flags|=256),y=ef(E,y,!1),y!==2){if(Qh&&!R){E.errorRecoveryDisabledLanes|=f,ls|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){la(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,xn,!er);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Xh+300-pn(),10<c)){if(sr(l,n,xn,!er),Ss(l,0,!0)!==0)break t;l.timeoutHandle=Gp(pp.bind(null,l,r,nn,vu,Kh,n,xn,ls,ra,er,f,2,-0,0),c);break t}pp(l,r,nn,vu,Kh,n,xn,ls,ra,er,f,0,-0,0)}}break}while(!0);ei(t)}function pp(t,n,r,l,c,f,y,E,R,z,Q,X,j,B){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:AT},up(n),X=ST(),X!==null)){t.cancelPendingCommit=X(bp.bind(null,t,n,f,r,l,c,y,E,R,Q,1,j,B)),sr(t,f,y,!z);return}bp(t,n,f,r,l,c,y,E,R)}function BE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~Yh,n&=~ls,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&jn(t,r,n)}function Eu(){return(Ht&6)===0?(Cl(0),!1):!0}function Wh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,bi=es=null,ph(t),Ws=null,_l=0,t=Dt;for(;t!==null;)Xg(t.alternate,t),t=t.return;Dt=null}}function la(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Wh(),$t=t,Dt=r=Ei(t.current,null),Ut=n,Gt=0,hn=null,er=!1,ia=Or(t,n),Qh=!1,ra=xn=Yh=ls=nr=le=0,nn=wl=null,Kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,qo(),r}function yp(t,n){Rt=null,G.H=lu,n===ul||n===$o?(n=Mm(),Gt=3):n===Im?(n=Mm(),Gt=4):Gt=n===Ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Dt===null&&(le=1,fu(t,An(n,t.current)))}function _p(){var t=G.H;return G.H=lu,t===null?lu:t}function vp(){var t=G.A;return G.A=zE,t}function tf(){le=4,er||(Ut&4194048)!==Ut&&wn.current!==null||(ia=!0),(nr&134217727)===0&&(ls&134217727)===0||$t===null||sr($t,Ut,xn,!1)}function ef(t,n,r){var l=Ht;Ht|=2;var c=_p(),f=vp();($t!==t||Ut!==n)&&(vu=null,la(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,R=hn;switch(Gt){case 8:Wh(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Gt;if(Gt=0,hn=null,oa(t,E,R,z),r&&ia){y=0;break t}break;default:z=Gt,Gt=0,hn=null,oa(t,E,R,z)}}qE(),y=le;break}catch(Q){yp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,bi=es=null,Ht=l,G.H=c,G.A=f,Dt===null&&($t=null,Ut=0,qo()),y}function qE(){for(;Dt!==null;)Ep(Dt)}function HE(t,n){var r=Ht;Ht|=2;var l=_p(),c=vp();$t!==t||Ut!==n?(vu=null,_u=pn()+500,la(t,n)):ia=Or(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,oa(t,n,f,1);break;case 2:case 9:if(Vm(f)){Gt=0,hn=null,Tp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),ei(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Vm(f)?(Gt=0,hn=null,Tp(n)):(Gt=0,hn=null,oa(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||ny(y)){Gt=0,hn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,Tu(z)):Dt=null}break e}}Gt=0,hn=null,oa(t,n,f,5);break;case 6:Gt=0,hn=null,oa(t,n,f,6);break;case 8:Wh(),le=6;break t;default:throw Error(a(462))}}GE();break}catch(Q){yp(t,Q)}while(!0);return bi=es=null,G.H=l,G.A=c,Ht=r,Dt!==null?0:($t=null,Ut=0,qo(),le)}function GE(){for(;Dt!==null&&!Va();)Ep(Dt)}function Ep(t){var n=Yg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?Tu(t):Dt=n}function Tp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Bg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Bg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:ph(n);default:Xg(r,n),n=Dt=Am(n,Ii),n=Yg(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?Tu(t):Dt=n}function oa(t,n,r,l){bi=es=null,ph(n),Ws=null,_l=0;var c=n.return;try{if(OE(t,c,n,r,Ut)){le=1,fu(t,An(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;le=1,fu(t,An(r,t.current)),Dt=null;return}n.flags&32768?(zt||l===1?t=!0:ia||(Ut&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ap(n,t)):Tu(n)}function Tu(t){var n=t;do{if((n.flags&32768)!==0){Ap(n,er);return}t=n.return;var r=UE(n.alternate,n,Ii);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);le===0&&(le=5)}function Ap(t,n){do{var r=kE(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);le=6,Dt=null}function bp(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do Au();while(Pe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fc,Pa(t,r,f,y,E,R),t===$t&&(Dt=$t=null,Ut=0),sa=n,rr=t,aa=r,Zh=f,$h=c,dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KE(Dr,function(){return Cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,y=Ht,Ht|=4;try{LE(t,n,r)}finally{Ht=y,it.p=c,G.T=l}}Pe=1,Sp(),Rp(),wp()}}function Sp(){if(Pe===1){Pe=0;var t=rr,n=sa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{ap(n,t);var f=mf,y=fm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&hm(E.ownerDocument.documentElement,E)){if(R!==null&&jc(E)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var B=j.getSelection(),Et=E.textContent.length,gt=Math.min(R.start,Et),Kt=R.end===void 0?gt:Math.min(R.end,Et);!B.extend&&gt>Kt&&(y=Kt,Kt=gt,gt=y);var M=cm(E,gt),N=cm(E,Kt);if(M&&N&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var P=X.createRange();P.setStart(M.node,M.offset),B.removeAllRanges(),gt>Kt?(B.addRange(P),B.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),B.addRange(P))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Mu=!!df,mf=df=null}finally{Ht=c,it.p=l,G.T=r}}t.current=n,Pe=2}}function Rp(){if(Pe===2){Pe=0;var t=rr,n=sa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{np(t,n.alternate,n)}finally{Ht=c,it.p=l,G.T=r}}Pe=3}}function wp(){if(Pe===4||Pe===3){Pe=0,yo();var t=rr,n=sa,r=aa,l=dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,sa=rr=null,xp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ir=null),Rs(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}(aa&3)!==0&&Au(),ei(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Jh?xl++:(xl=0,Jh=t):xl=0,Cl(0)}}function xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function Au(t){return Sp(),Rp(),wp(),Cp()}function Cp(){if(Pe!==5)return!1;var t=rr,n=Zh;Zh=0;var r=Rs(aa),l=G.T,c=it.p;try{it.p=32>r?32:r,G.T=null,r=$h,$h=null;var f=rr,y=aa;if(Pe=0,sa=rr=null,aa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,hp(f.current),op(f,f.current,y,r),Ht=E,Cl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{it.p=c,G.T=l,xp(t,n)}}function Dp(t,n,r){n=An(r,n),n=Nh(t.stateNode,n,2),t=Ki(t,n,2),t!==null&&(ui(t,2),ei(t))}function Xt(t,n,r){if(t.tag===3)Dp(t,t,r);else for(;n!==null;){if(n.tag===3){Dp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){t=An(r,t),r=Og(2),l=Ki(n,r,2),l!==null&&(Mg(r,l,n,t),ui(l,2),ei(l));break}}n=n.return}}function nf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Qh=!0,c.add(r),t=FE.bind(null,t,n,r),n.then(t,t))}function FE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ut&r)===r&&(le===4||le===3&&(Ut&62914560)===Ut&&300>pn()-Xh?(Ht&2)===0&&la(t,0):Yh|=r,ra===Ut&&(ra=0)),ei(t)}function Np(t,n){n===0&&(n=La()),t=Hs(t,n),t!==null&&(ui(t,n),ei(t))}function QE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Np(t,r)}function YE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Np(t,r)}function KE(t,n){return xr(t,n)}var bu=null,ua=null,rf=!1,Su=!1,sf=!1,os=0;function ei(t){t!==ua&&t.next===null&&(ua===null?bu=ua=t:ua=ua.next=t),Su=!0,rf||(rf=!0,ZE())}function Cl(t,n){if(!sf&&Su){sf=!0;do for(var r=!1,l=bu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Mp(l,f))}else f=Ut,f=Ss(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Mp(l,f));l=l.next}while(r);sf=!1}}function XE(){Ip()}function Ip(){Su=rf=!1;var t=0;os!==0&&(rT()&&(t=os),os=0);for(var n=pn(),r=null,l=bu;l!==null;){var c=l.next,f=Vp(l,n);f===0?(l.next=null,r===null?bu=c:r.next=c,c===null&&(ua=r)):(r=l,(t!==0||(f&3)!==0)&&(Su=!0)),l=c}Cl(t)}function Vp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ua(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ut,r=Ss(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Cr(l),Rs(r)){case 2:case 8:r=As;break;case 32:r=Dr;break;case 268435456:r=bs;break;default:r=Dr}return l=Op.bind(null,t),r=xr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function Op(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Au()&&t.callbackNode!==r)return null;var l=Ut;return l=Ss(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gp(t,l,n),Vp(t,pn()),t.callbackNode!=null&&t.callbackNode===r?Op.bind(null,t):null)}function Mp(t,n){if(Au())return null;gp(t,n,!0)}function ZE(){aT(function(){(Ht&6)!==0?xr(Oa,XE):Ip()})}function af(){return os===0&&(os=ka()),os}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function kp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $E(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Up((c[ge]||null).action),y=l.submitter;y&&(n=(n=y[ge]||null)?Up(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Vs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var R=y?kp(c,y):new FormData(c);Rh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?kp(c,y):new FormData(c),Rh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var lf=0;lf<Gc.length;lf++){var of=Gc[lf],JE=of.toLowerCase(),WE=of[0].toUpperCase()+of.slice(1);On(JE,"on"+WE)}On(gm,"onAnimationEnd"),On(pm,"onAnimationIteration"),On(ym,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(pE,"onTransitionRun"),On(yE,"onTransitionStart"),On(_E,"onTransitionCancel"),On(_m,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Lp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){hu(Q)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){hu(Q)}c.currentTarget=null,f=R}}}}function Nt(t,n){var r=n[ja];r===void 0&&(r=n[ja]=new Set);var l=t+"__bubble";r.has(l)||(Pp(n,t,2,!1),r.add(l))}function uf(t,n,r){var l=0;n&&(l|=4),Pp(r,t,l,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Ru]){t[Ru]=!0,Ba.forEach(function(r){r!=="selectionchange"&&(tT.has(r)||uf(r,!1,t),uf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,uf("selectionchange",!1,n))}}function Pp(t,n,r,l){switch(oy(n)){case 2:var c=xT;break;case 8:c=CT;break;default:c=Sf}r=c.bind(null,n,r,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function hf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}xo(function(){var z=f,Q=vn(r),X=[];t:{var j=vm.get(t);if(j!==void 0){var B=Vs,Et=t;switch(t){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":B=Ps;break;case"focusin":Et="focus",B=Us;break;case"focusout":Et="blur",B=Us;break;case"beforeblur":case"afterblur":B=Us;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Uo;break;case gm:case pm:case ym:B=ks;break;case _m:B=Lo;break;case"scroll":case"scrollend":B=Co;break;case"wheel":B=zs;break;case"copy":case"cut":case"paste":B=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Wa;break;case"toggle":case"beforetoggle":B=zo}var gt=(n&4)!==0,Kt=!gt&&(t==="scroll"||t==="scrollend"),M=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=z,P;N!==null;){var K=N;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||M===null||(K=Br(N,M),K!=null&&gt.push(Nl(N,K,P))),Kt)break;N=N.return}0<gt.length&&(j=new B(j,Et,null,r,Q),X.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",j&&r!==mi&&(Et=r.relatedTarget||r.fromElement)&&(ci(Et)||Et[yn]))break t;if((B||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,B?(Et=r.relatedTarget||r.toElement,B=z,Et=Et?ci(Et):null,Et!==null&&(Kt=h(Et),gt=Et.tag,Et!==Kt||gt!==5&&gt!==27&&gt!==6)&&(Et=null)):(B=null,Et=z),B!==Et)){if(gt=Tn,K="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Wa,K="onPointerLeave",M="onPointerEnter",N="pointer"),Kt=B==null?j:qn(B),P=Et==null?j:qn(Et),j=new gt(K,N+"leave",B,r,Q),j.target=Kt,j.relatedTarget=P,K=null,ci(Q)===z&&(gt=new gt(M,N+"enter",Et,r,Q),gt.target=P,gt.relatedTarget=Kt,K=gt),Kt=K,B&&Et)e:{for(gt=B,M=Et,N=0,P=gt;P;P=ca(P))N++;for(P=0,K=M;K;K=ca(K))P++;for(;0<N-P;)gt=ca(gt),N--;for(;0<P-N;)M=ca(M),P--;for(;N--;){if(gt===M||M!==null&&gt===M.alternate)break e;gt=ca(gt),M=ca(M)}gt=null}else gt=null;B!==null&&zp(X,j,B,gt,!1),Et!==null&&Kt!==null&&zp(X,Kt,Et,gt,!0)}}t:{if(j=z?qn(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var at=rm;else if(be(j))if(sm)at=dE;else{at=hE;var xt=cE}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Qa(z.elementType)&&(at=rm):at=fE;if(at&&(at=at(t,z))){vi(X,at,r,Q);break t}xt&&xt(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Hi(j,"number",j.value)}switch(xt=z?qn(z):window,t){case"focusin":(be(xt)||xt.contentEditable==="true")&&(js=xt,Bc=z,nl=null);break;case"focusout":nl=Bc=js=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,dm(X,r,Q);break;case"selectionchange":if(gE)break;case"keydown":case"keyup":dm(X,r,Q)}var ht;if(Xn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?q(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(p&&r.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(ht=Ka()):(Fn=Q,Gi="value"in Fn?Fn.value:Fn.textContent,Ot=!0)),xt=wu(z,_t),0<xt.length&&(_t=new $a(_t,t,null,r,Q),X.push({event:_t,listeners:xt}),ht?_t.data=ht:(ht=et(r),ht!==null&&(_t.data=ht)))),(ht=m?Ae(t,r):Mt(t,r))&&(_t=wu(z,"onBeforeInput"),0<_t.length&&(xt=new $a("onBeforeInput","beforeinput",null,r,Q),X.push({event:xt,listeners:_t}),xt.data=ht)),$E(X,t,z,r,Q)}Lp(X,n)})}function Nl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(Nl(t,c,f)),c=Br(t,n),c!=null&&l.push(Nl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Br(r,f),z!=null&&y.unshift(Nl(r,z,R))):c||(z=Br(r,f),z!=null&&y.push(Nl(r,z,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var eT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function jp(t){return(typeof t=="string"?t:""+t).replace(eT,`
`).replace(nT,"")}function Bp(t,n){return n=jp(n),jp(t)===n}function xu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,r,l);break;case"style":Fa(t,l,f);break;case"data":if(n!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Is(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Is(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=xu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Mc.get(r)||r,qi(t,r,l))}}function ff(t,n,r,l,c,f){switch(r){case"style":Fa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ws.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):qi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var E=f=y=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Yt(t,n,l,Q,r,null)}}Pr(t,f,E,R,z,y,c,!1),Ns(t);return;case"select":Nt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}zr(t,l,c,f),Ns(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,r,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Nt(Dl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,z,l,r,null)}return;default:if(Qa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&ff(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function iT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,z=null,Q=null;for(B in r){var X=r[B];if(r.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(B)||Yt(t,n,B,null,l,X)}}for(var j in l){var B=l[j];if(X=r[j],l.hasOwnProperty(j)&&(B!=null||X!=null))switch(j){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":Q=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==X&&Yt(t,n,j,B,l,X)}}an(t,y,E,R,z,Q,f,c);return;case"select":B=y=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,r=y,l=B,j!=null?di(t,!!r,j,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":B=j=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":j=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Ft(t,j,B);return;case"option":for(var Et in r)if(j=r[Et],r.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Yt(t,n,Et,null,l,j)}for(R in l)if(j=l[R],B=r[R],l.hasOwnProperty(R)&&j!==B&&(j!=null||B!=null))switch(R){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(t,n,R,j,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Yt(t,n,gt,null,l,j);for(z in l)if(j=l[z],B=r[z],l.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Yt(t,n,z,j,l,B)}return;default:if(Qa(n)){for(var Kt in r)j=r[Kt],r.hasOwnProperty(Kt)&&j!==void 0&&!l.hasOwnProperty(Kt)&&ff(t,n,Kt,void 0,l,j);for(Q in l)j=l[Q],B=r[Q],!l.hasOwnProperty(Q)||j===B||j===void 0&&B===void 0||ff(t,n,Q,j,l,B);return}}for(var M in r)j=r[M],r.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,j);for(X in l)j=l[X],B=r[X],!l.hasOwnProperty(X)||j===B||j==null&&B==null||Yt(t,n,X,j,l,B)}var df=null,mf=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function rT(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(lT)}:Gp;function lT(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Qp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Il(y.documentElement),r&2&&Il(y.body),r&4)for(r=y.head,Il(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Mr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);zl(n)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yf(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function oT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function uT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var vf=null;function Yp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Kp(t,n,r){switch(n=Cu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var Cn=new Map,Xp=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=it.d;it.d={f:hT,r:fT,D:dT,C:mT,L:gT,m:pT,X:_T,S:yT,M:vT};function hT(){var t=Vi.f(),n=Eu();return t||n}function fT(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?gg(n):Vi.r(t)}var ha=typeof document>"u"?null:document;function Zp(t,n,r){var l=ha;if(l&&typeof n=="string"&&n){var c=pe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Xp.has(c)||(Xp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function dT(t){Vi.D(t),Zp("dns-prefetch",t,null)}function mT(t,n){Vi.C(t,n),Zp("preconnect",t,n)}function gT(t,n,r){Vi.L(t,n,r);var l=ha;if(l&&t&&n){var c='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+pe(r.imageSizes)+'"]')):c+='[href="'+pe(t)+'"]';var f=c;switch(n){case"style":f=fa(t);break;case"script":f=da(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function pT(t,n){Vi.m(t,n);var r=ha;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=da(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),ze(l,"link",t),ce(l),r.head.appendChild(l)}}}function yT(t,n,r){Vi.S(t,n,r);var l=ha;if(l&&t){var c=Xe(l).hoistableStyles,f=fa(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&Ef(t,r);var R=y=l.createElement("link");ce(R),ze(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function _T(t,n){Vi.X(t,n);var r=ha;if(r&&t){var l=Xe(r).hoistableScripts,c=da(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&Tf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function vT(t,n){Vi.M(t,n);var r=ha;if(r&&t){var l=Xe(r).hoistableScripts,c=da(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Tf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,n,r,l){var c=(c=yt.current)?Du(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fa(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=fa(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||ET(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=da(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function fa(t){return'href="'+pe(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function ET(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ce(n),t.head.appendChild(n))}function da(t){return'[src="'+pe(t)+'"]'}function Ol(t){return"script[async]"+t}function Wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ze(l,"style",c),Nu(l,r.precedence,t),n.instance=l;case"stylesheet":c=fa(r.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=Jp(r),(c=Cn.get(c))&&Ef(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,Nu(f,r.precedence,t),n.instance=f;case"script":return f=da(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,ce(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),Tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nu(l,r.precedence,t));return n.instance}function Nu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Iu=null;function ty(t,n,r){if(Iu===null){var l=new Map,c=Iu=new Map;c.set(r,l)}else c=Iu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ey(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function TT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function AT(){}function bT(t,n,r){if(Ml===null)throw Error(a(475));var l=Ml;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=fa(r.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=Jp(r),(c=Cn.get(c))&&Ef(r,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Vu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function ST(){if(Ml===null)throw Error(a(475));var t=Ml;return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Af(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,n.forEach(RT,t),Ou=null,Vu.call(t))}function RT(t,n){if(!(n.state.loading&4)){var r=Ou.get(t);if(r)var l=r.get(null);else{r=new Map,Ou.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function wT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function iy(t,n,r,l,c,f,y,E,R,z,Q,X){return t=new wT(t,n,r,y,E,R,z,X),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ah(f),t}function ry(t){return t?(t=Gs,t):Gs}function sy(t,n,r,l,c,f){c=ry(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ki(t,l,n),r!==null&&(dn(r,t,n),hl(r,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function bf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function ly(t){if(t.tag===13){var n=Hs(t,67108864);n!==null&&dn(n,t,67108864),bf(t,67108864)}}var Mu=!0;function xT(t,n,r,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,Sf(t,n,r,l)}finally{it.p=f,G.T=c}}function CT(t,n,r,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,Sf(t,n,r,l)}finally{it.p=f,G.T=c}}function Sf(t,n,r,l){if(Mu){var c=Rf(l);if(c===null)hf(t,n,l,Uu,r),uy(t,l);else if(NT(c,t,n,r,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<DT.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Nn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-He(y);E.entanglements[1]|=R,y&=~R}ei(f),(Ht&6)===0&&(_u=pn()+500,Cl(0))}}break;case 13:E=Hs(f,2),E!==null&&dn(E,f,2),Eu(),bf(f,2)}if(f=Rf(l),f===null&&hf(t,n,l,Uu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else hf(t,n,l,null,r)}}function Rf(t){return t=vn(t),wf(t)}var Uu=null;function wf(t){if(Uu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case Oa:return 2;case As:return 8;case Dr:case Dc:return 32;case bs:return 268435456;default:return 32}default:return 32}}var xf=!1,lr=null,or=null,ur=null,kl=new Map,Ll=new Map,cr=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&ly(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NT(t,n,r,l,c){switch(n){case"focusin":return lr=Pl(lr,t,n,r,l,c),!0;case"dragenter":return or=Pl(or,t,n,r,l,c),!0;case"mouseover":return ur=Pl(ur,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,Pl(kl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ll.set(f,Pl(Ll.get(f)||null,t,n,r,l,c)),!0}return!1}function cy(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Eo(t.priority,function(){if(r.tag===13){var l=fn();l=Pi(l);var c=Hs(r,l);c!==null&&dn(c,r,l),bf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Bn(r),n!==null&&ly(n),t.blockedOn=r,!1;n.shift()}return!0}function hy(t,n,r){ku(t)&&r.delete(n)}function IT(){xf=!1,lr!==null&&ku(lr)&&(lr=null),or!==null&&ku(or)&&(or=null),ur!==null&&ku(ur)&&(ur=null),kl.forEach(hy),Ll.forEach(hy)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,xf||(xf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,IT)))}var Pu=null;function fy(t){Pu!==t&&(Pu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(wf(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,Rh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function zl(t){function n(R){return Lu(R,t)}lr!==null&&Lu(lr,t),or!==null&&Lu(or,t),ur!==null&&Lu(ur,t),kl.forEach(n),Ll.forEach(n);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)cy(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ge]||null;if(typeof f=="function")y||fy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ge]||null)E=y.formAction;else if(wf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),fy(r)}}}function Cf(t){this._internalRoot=t}zu.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=fn();sy(r,l,t,n,null,null)},zu.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;sy(t.current,2,null,t,null,null),Eu(),n[yn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&cy(t)}};var dy=e.version;if(dy!=="19.1.0")throw Error(a(527,dy,"19.1.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var VT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{se=ju.inject(VT),qt=ju}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Dg,f=Ng,y=Ig,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=iy(t,1,!1,null,null,r,l,c,f,y,E,null),t[yn]=n.current,cf(t),new Cf(n)},Bl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Dg,y=Ng,E=Ig,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=iy(t,1,!0,n,r??null,l,c,f,y,E,R,z),n.context=ry(null),r=n.current,l=fn(),l=Pi(l),c=Yi(l),c.callback=null,Ki(r,c,l),r=l,n.current.lanes=r,ui(n,r),ei(n),t[yn]=n.current,cf(t),new zu(n)},Bl.version="19.1.0",Bl}var by;function HT(){if(by)return If.exports;by=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),If.exports=qT(),If.exports}var GT=HT();const FT=Q_(GT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Sy=s=>{const e=YT(s);return e.charAt(0).toUpperCase()+e.slice(1)},Y_=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),KT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...g},_)=>ie.createElement("svg",{ref:_,...XT,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Y_("lucide",o),...!h&&!KT(g)&&{"aria-hidden":"true"},...g},[...d.map(([v,A])=>ie.createElement(v,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=(s,e)=>{const i=ie.forwardRef(({className:a,...o},h)=>ie.createElement(ZT,{ref:h,iconNode:e,className:Y_(`lucide-${QT(Sy(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Sy(s),i};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ry=Rr("calendar",$T);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WT=Rr("eye-off",JT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ql=Rr("heart",t1);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],n1=Rr("image",e1);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Bu=Rr("loader",i1);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],s1=Rr("mic",r1);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],l1=Rr("plus",a1);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wy=Rr("x",o1),u1=()=>{};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},c1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(D=64)),a.push(i[A],i[C],i[D],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(K_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):c1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const C=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||C==null)throw new h1;const D=h<<2|g>>4;if(a.push(D),v!==64){const H=g<<4&240|v>>2;if(a.push(H),C!==64){const Y=v<<6&192|C;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(s){const e=K_(s);return X_.encodeByteArray(e,!0)},ec=function(s){return f1(s).replace(/\./g,"")},d1=function(s){try{return X_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=()=>m1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof xy>"u")return;const s=xy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},y1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&d1(s[1]);return e&&JSON.parse(e)},gd=()=>{try{return u1()||g1()||p1()||y1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},_1=s=>{var e,i;return(i=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},Z_=s=>{const e=_1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},$_=()=>{var s;return(s=gd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(s){return s.endsWith(".cloudworkstations.dev")}async function J_(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Kl={};function E1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function T1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Cy=!1;function tv(s,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Kl[s]===e||Kl[s]||Cy)return;Kl[s]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",h=E1().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Cy=!0,d()},D}function A(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=T1(a),H=i("text"),Y=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),dt=i("preprendIcon"),st=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ot=D.element;g(ot),A($,tt);const pt=v();_(st,dt),ot.append(st,Y,$,pt),document.body.appendChild(ot)}h?(Y.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){var s;const e=(s=gd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function w1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FirebaseError";class ps extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=x1,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ev.prototype.create)}}class ev{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?C1(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ps(o,g,a)}}function C1(s,e){return s.replace(D1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const D1=/\{\$([^}]+)}/g;function nc(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(Dy(h)&&Dy(d)){if(!nc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Dy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(s){return s&&s._delegate?s._delegate:s}class va{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new v1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V1(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:I1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I1(s){return s===us?void 0:s}function V1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new N1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const M1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},U1=Lt.INFO,k1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},L1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=k1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=U1,this._logHandler=L1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const P1=(s,e)=>e.some(i=>s instanceof i);let Ny,Iy;function z1(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,Ff=new WeakMap,rv=new WeakMap,Uf=new WeakMap,pd=new WeakMap;function B1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(mr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&iv.set(i,s)}).catch(()=>{}),pd.set(e,s),e}function q1(s){if(Ff.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Ff.set(s,e)}let Qf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Ff.get(s);if(e==="objectStoreNames")return s.objectStoreNames||rv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function H1(s){Qf=s(Qf)}function G1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(kf(this),e,...i);return rv.set(a,e.sort?e.sort():[e]),mr(a)}:j1().includes(s)?function(...e){return s.apply(kf(this),e),mr(iv.get(this))}:function(...e){return mr(s.apply(kf(this),e))}}function F1(s){return typeof s=="function"?G1(s):(s instanceof IDBTransaction&&q1(s),P1(s,z1())?new Proxy(s,Qf):s)}function mr(s){if(s instanceof IDBRequest)return B1(s);if(Uf.has(s))return Uf.get(s);const e=F1(s);return e!==s&&(Uf.set(s,e),pd.set(e,s)),e}const kf=s=>pd.get(s);function Q1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=mr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(mr(d.result),_.oldVersion,_.newVersion,mr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Y1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Lf=new Map;function Vy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=K1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Y1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Lf.set(e,h),h}H1(s=>({...s,get:(e,i,a)=>Vy(e,i)||s.get(e,i,a),has:(e,i)=>!!Vy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Z1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Z1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",Oy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new nv("@firebase/app"),$1="@firebase/app-compat",J1="@firebase/analytics-compat",W1="@firebase/analytics",tA="@firebase/app-check-compat",eA="@firebase/app-check",nA="@firebase/auth",iA="@firebase/auth-compat",rA="@firebase/database",sA="@firebase/data-connect",aA="@firebase/database-compat",lA="@firebase/functions",oA="@firebase/functions-compat",uA="@firebase/installations",cA="@firebase/installations-compat",hA="@firebase/messaging",fA="@firebase/messaging-compat",dA="@firebase/performance",mA="@firebase/performance-compat",gA="@firebase/remote-config",pA="@firebase/remote-config-compat",yA="@firebase/storage",_A="@firebase/storage-compat",vA="@firebase/firestore",EA="@firebase/ai",TA="@firebase/firestore-compat",AA="firebase",bA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",SA={[Yf]:"fire-core",[$1]:"fire-core-compat",[W1]:"fire-analytics",[J1]:"fire-analytics-compat",[eA]:"fire-app-check",[tA]:"fire-app-check-compat",[nA]:"fire-auth",[iA]:"fire-auth-compat",[rA]:"fire-rtdb",[sA]:"fire-data-connect",[aA]:"fire-rtdb-compat",[lA]:"fire-fn",[oA]:"fire-fn-compat",[uA]:"fire-iid",[cA]:"fire-iid-compat",[hA]:"fire-fcm",[fA]:"fire-fcm-compat",[dA]:"fire-perf",[mA]:"fire-perf-compat",[gA]:"fire-rc",[pA]:"fire-rc-compat",[yA]:"fire-gcs",[_A]:"fire-gcs-compat",[vA]:"fire-fst",[TA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,RA=new Map,Xf=new Map;function My(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function eo(s){const e=s.name;if(Xf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,s);for(const i of ic.values())My(i,s);for(const i of RA.values())My(i,s);return!0}function sv(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function av(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new ev("app","Firebase",wA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=bA;function ov(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Kf,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=$_()),!i)throw gr.create("no-options");const h=ic.get(o);if(h){if(nc(i,h.options)&&nc(a,h.config))return h;throw gr.create("duplicate-app",{appName:o})}const d=new O1(o);for(const _ of Xf.values())d.addComponent(_);const g=new xA(i,a,d);return ic.set(o,g),g}function uv(s=Kf){const e=ic.get(s);if(!e&&s===Kf&&$_())return ov();if(!e)throw gr.create("no-app",{appName:s});return e}function pr(s,e,i){var a;let o=(a=SA[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}eo(new va(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",DA=1,no="firebase-heartbeat-store";let Pf=null;function cv(){return Pf||(Pf=Q1(CA,DA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Pf}async function NA(s){try{const i=(await cv()).transaction(no),a=await i.objectStore(no).get(hv(s));return await i.done,a}catch(e){if(e instanceof ps)Mi.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Uy(s,e){try{const a=(await cv()).transaction(no,"readwrite");await a.objectStore(no).put(e,hv(s)),await a.done}catch(i){if(i instanceof ps)Mi.warn(i.message);else{const a=gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function hv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=1024,VA=30;class OA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ky();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>VA){const d=kA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ky(),{heartbeatsToSend:a,unsentEntries:o}=MA(this._heartbeatsCache.heartbeats),h=ec(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function ky(){return new Date().toISOString().substring(0,10)}function MA(s,e=IA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ly(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ly(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?w1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ly(s){return ec(JSON.stringify({version:2,heartbeats:s})).length}function kA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(s){eo(new va("platform-logger",e=>new X1(e),"PRIVATE")),eo(new va("heartbeat",e=>new OA(e),"PRIVATE")),pr(Yf,Oy,s),pr(Yf,Oy,"esm2017"),pr("fire-js","")}LA("");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,fv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function x(){}x.prototype=S.prototype,V.D=S.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(I,O,U){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return S.prototype[O].apply(I,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,S,x){x||(x=0);var I=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)I[O]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(O=0;16>O;++O)I[O]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=V.g[0],x=V.g[1],O=V.g[2];var U=V.g[3],w=S+(U^x&(O^U))+I[0]+3614090360&4294967295;S=x+(w<<7&4294967295|w>>>25),w=U+(O^S&(x^O))+I[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(x^U&(S^x))+I[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=x+(S^O&(U^S))+I[3]+3250441966&4294967295,x=O+(w<<22&4294967295|w>>>10),w=S+(U^x&(O^U))+I[4]+4118548399&4294967295,S=x+(w<<7&4294967295|w>>>25),w=U+(O^S&(x^O))+I[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(x^U&(S^x))+I[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=x+(S^O&(U^S))+I[7]+4249261313&4294967295,x=O+(w<<22&4294967295|w>>>10),w=S+(U^x&(O^U))+I[8]+1770035416&4294967295,S=x+(w<<7&4294967295|w>>>25),w=U+(O^S&(x^O))+I[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(x^U&(S^x))+I[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=x+(S^O&(U^S))+I[11]+2304563134&4294967295,x=O+(w<<22&4294967295|w>>>10),w=S+(U^x&(O^U))+I[12]+1804603682&4294967295,S=x+(w<<7&4294967295|w>>>25),w=U+(O^S&(x^O))+I[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(x^U&(S^x))+I[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=x+(S^O&(U^S))+I[15]+1236535329&4294967295,x=O+(w<<22&4294967295|w>>>10),w=S+(O^U&(x^O))+I[1]+4129170786&4294967295,S=x+(w<<5&4294967295|w>>>27),w=U+(x^O&(S^x))+I[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^x&(U^S))+I[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=x+(U^S&(O^U))+I[0]+3921069994&4294967295,x=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(x^O))+I[5]+3593408605&4294967295,S=x+(w<<5&4294967295|w>>>27),w=U+(x^O&(S^x))+I[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^x&(U^S))+I[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=x+(U^S&(O^U))+I[4]+3889429448&4294967295,x=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(x^O))+I[9]+568446438&4294967295,S=x+(w<<5&4294967295|w>>>27),w=U+(x^O&(S^x))+I[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^x&(U^S))+I[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=x+(U^S&(O^U))+I[8]+1163531501&4294967295,x=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(x^O))+I[13]+2850285829&4294967295,S=x+(w<<5&4294967295|w>>>27),w=U+(x^O&(S^x))+I[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^x&(U^S))+I[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=x+(U^S&(O^U))+I[12]+2368359562&4294967295,x=O+(w<<20&4294967295|w>>>12),w=S+(x^O^U)+I[5]+4294588738&4294967295,S=x+(w<<4&4294967295|w>>>28),w=U+(S^x^O)+I[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^x)+I[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=x+(O^U^S)+I[14]+4259657740&4294967295,x=O+(w<<23&4294967295|w>>>9),w=S+(x^O^U)+I[1]+2763975236&4294967295,S=x+(w<<4&4294967295|w>>>28),w=U+(S^x^O)+I[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^x)+I[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=x+(O^U^S)+I[10]+3200236656&4294967295,x=O+(w<<23&4294967295|w>>>9),w=S+(x^O^U)+I[13]+681279174&4294967295,S=x+(w<<4&4294967295|w>>>28),w=U+(S^x^O)+I[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^x)+I[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=x+(O^U^S)+I[6]+76029189&4294967295,x=O+(w<<23&4294967295|w>>>9),w=S+(x^O^U)+I[9]+3654602809&4294967295,S=x+(w<<4&4294967295|w>>>28),w=U+(S^x^O)+I[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^x)+I[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=x+(O^U^S)+I[2]+3299628645&4294967295,x=O+(w<<23&4294967295|w>>>9),w=S+(O^(x|~U))+I[0]+4096336452&4294967295,S=x+(w<<6&4294967295|w>>>26),w=U+(x^(S|~O))+I[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~x))+I[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=x+(U^(O|~S))+I[5]+4237533241&4294967295,x=O+(w<<21&4294967295|w>>>11),w=S+(O^(x|~U))+I[12]+1700485571&4294967295,S=x+(w<<6&4294967295|w>>>26),w=U+(x^(S|~O))+I[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~x))+I[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=x+(U^(O|~S))+I[1]+2240044497&4294967295,x=O+(w<<21&4294967295|w>>>11),w=S+(O^(x|~U))+I[8]+1873313359&4294967295,S=x+(w<<6&4294967295|w>>>26),w=U+(x^(S|~O))+I[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~x))+I[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=x+(U^(O|~S))+I[13]+1309151649&4294967295,x=O+(w<<21&4294967295|w>>>11),w=S+(O^(x|~U))+I[4]+4149444226&4294967295,S=x+(w<<6&4294967295|w>>>26),w=U+(x^(S|~O))+I[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~x))+I[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=x+(U^(O|~S))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+U&4294967295}a.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var x=S-this.blockSize,I=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=x;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<S;)if(I[O++]=V.charCodeAt(U++),O==this.blockSize){o(this,I),O=0;break}}else for(;U<S;)if(I[O++]=V[U++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var x=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=x&255,x/=256;for(this.u(V),V=Array(16),S=x=0;4>S;++S)for(var I=0;32>I;I+=8)V[x++]=this.g[S]>>>I&255;return V};function h(V,S){var x=g;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=S(V)}function d(V,S){this.h=S;for(var x=[],I=!0,O=V.length-1;0<=O;O--){var U=V[O]|0;I&&U==S||(x[O]=U,I=!1)}this.g=x}var g={};function _(V){return-128<=V&&128>V?h(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return $(v(-V));for(var S=[],x=1,I=0;V>=x;I++)S[I]=V/x|0,x*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return $(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=v(Math.pow(S,8)),I=C,O=0;O<V.length;O+=8){var U=Math.min(8,V.length-O),w=parseInt(V.substring(O,O+U),S);8>U?(U=v(Math.pow(S,U)),I=I.j(U).add(v(w))):(I=I.j(x),I=I.add(v(w)))}return I}var C=_(0),D=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();for(var V=0,S=1,x=0;x<this.g.length;x++){var I=this.i(x);V+=(0<=I?I:4294967296+I)*S,S*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Y(this))return"0";if(tt(this))return"-"+$(this).toString(V);for(var S=v(Math.pow(V,6)),x=this,I="";;){var O=pt(x,S).g;x=dt(x,O.j(S));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=O,Y(x))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Y(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function tt(V){return V.h==-1}s.l=function(V){return V=dt(this,V),tt(V)?-1:Y(V)?0:1};function $(V){for(var S=V.g.length,x=[],I=0;I<S;I++)x[I]=~V.g[I];return new d(x,~V.h).add(D)}s.abs=function(){return tt(this)?$(this):this},s.add=function(V){for(var S=Math.max(this.g.length,V.g.length),x=[],I=0,O=0;O<=S;O++){var U=I+(this.i(O)&65535)+(V.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);I=w>>>16,U&=65535,w&=65535,x[O]=w<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function dt(V,S){return V.add($(S))}s.j=function(V){if(Y(this)||Y(V))return C;if(tt(this))return tt(V)?$(this).j($(V)):$($(this).j(V));if(tt(V))return $(this.j($(V)));if(0>this.l(H)&&0>V.l(H))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,x=[],I=0;I<2*S;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<V.g.length;O++){var U=this.i(I)>>>16,w=this.i(I)&65535,me=V.i(O)>>>16,Jt=V.i(O)&65535;x[2*I+2*O]+=w*Jt,st(x,2*I+2*O),x[2*I+2*O+1]+=U*Jt,st(x,2*I+2*O+1),x[2*I+2*O+1]+=w*me,st(x,2*I+2*O+1),x[2*I+2*O+2]+=U*me,st(x,2*I+2*O+2)}for(I=0;I<S;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=S;I<2*S;I++)x[I]=0;return new d(x,0)};function st(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ot(V,S){this.g=V,this.h=S}function pt(V,S){if(Y(S))throw Error("division by zero");if(Y(V))return new ot(C,C);if(tt(V))return S=pt($(V),S),new ot($(S.g),$(S.h));if(tt(S))return S=pt(V,$(S)),new ot($(S.g),S.h);if(30<V.g.length){if(tt(V)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var x=D,I=S;0>=I.l(V);)x=mt(x),I=mt(I);var O=Ct(x,1),U=Ct(I,1);for(I=Ct(I,2),x=Ct(x,2);!Y(I);){var w=U.add(I);0>=w.l(V)&&(O=O.add(x),U=w),I=Ct(I,1),x=Ct(x,1)}return S=dt(V,O.j(S)),new ot(O,S)}for(O=C;0<=V.l(S);){for(x=Math.max(1,Math.floor(V.m()/S.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(x),w=U.j(S);tt(w)||0<w.l(V);)x-=I,U=v(x),w=U.j(S);Y(U)&&(U=D),O=O.add(U),V=dt(V,w)}return new ot(O,V)}s.A=function(V){return pt(this,V).h},s.and=function(V){for(var S=Math.max(this.g.length,V.g.length),x=[],I=0;I<S;I++)x[I]=this.i(I)&V.i(I);return new d(x,this.h&V.h)},s.or=function(V){for(var S=Math.max(this.g.length,V.g.length),x=[],I=0;I<S;I++)x[I]=this.i(I)|V.i(I);return new d(x,this.h|V.h)},s.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),x=[],I=0;I<S;I++)x[I]=this.i(I)^V.i(I);return new d(x,this.h^V.h)};function mt(V){for(var S=V.g.length+1,x=[],I=0;I<S;I++)x[I]=V.i(I)<<1|V.i(I-1)>>>31;return new d(x,V.h)}function Ct(V,S){var x=S>>5;S%=32;for(var I=V.g.length-x,O=[],U=0;U<I;U++)O[U]=0<S?V.i(U+x)>>>S|V.i(U+x+1)<<32-S:V.i(U+x);return new d(O,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,fv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,yr=d}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dv,Gl,mv,Xu,Zf,gv,pv,yv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in p))break t;p=p[k]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,k={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,D.apply(null,arguments)}function H(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Y(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,k,q){for(var et=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)et[Ot-2]=arguments[Ot];return m.prototype[k].apply(T,et)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const k=u.length||0,q=T.length||0;u.length=k+q;for(let et=0;et<q;et++)u[k+et]=T[et]}else u.push(T)}}class dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function pt(u){return pt[" "](u),u}pt[" "]=function(){};var mt=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Ct(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(p in T)u[p]=T[p];for(let q=0;q<x.length;q++)p=x[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Vt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,p){const T=Jt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Jt=new dt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ut=!1,Vt=new me,b=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(F)}};var F=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=Jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(mt){t:{try{pt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}Y(bt,W);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,m,p,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,p,T,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=xr(u,m,T,k);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new zn(m,this.src,q,!!T,k),m.fa=p,u.push(m)),m};function wr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(T,k,1),q&&(Li(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function xr(u,m,p,T){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return k}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),Va={};function yo(u,m,p,T,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)yo(u,m[q],p,T,k);return null}return p=_o(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,k):pn(u,m,p,!1,T,k)}function pn(u,m,p,T,k,q){if(!m)throw Error("Invalid event type");var et=v(k)?!!k.capture:!!k,Ot=bs(u);if(Ot||(u[Cr]=Ot=new li(u)),p=Ot.add(m,p,T,et,q),p.proxy)return p;if(T=Cc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Dr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Cc(){function u(p){return m.call(u.src,u.listener,p)}const m=Dc;return u}function Oa(u,m,p,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Oa(u,m[q],p,T,k);else T=v(T)?!!T.capture:!!T,p=_o(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=xr(q,p,T,k),-1<p&&(Li(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xr(m,p,T,k)),(p=-1<u?m[u]:null)&&As(p))}function As(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])wr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Dr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=bs(m))?(wr(p,u),p.h==0&&(p.src=null,m[Cr]=null)):Li(u)}}}function Dr(u){return u in Va?Va[u]:Va[u]="on"+u}function Dc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&As(u),u=p.call(T,m)}return u}function bs(u){return u=u[Cr],u instanceof li?u:null}var Ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(u){return typeof u=="function"?u:(u[Ma]||(u[Ma]=function(m){return u.handleEvent(m)}),u[Ma])}function se(){nt.call(this),this.i=new li(this),this.M=this,this.F=null}Y(se,nt),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,p,T){Oa(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(T,u),I(m,k)}if(k=!0,p)for(var q=p.length-1;0<=q;q--){var et=m.g=p[q];k=sn(et,T,!0,m)&&k}if(et=m.g=u,k=sn(et,T,!0,m)&&k,k=sn(et,T,!1,m)&&k,p)for(q=0;q<p.length;q++)et=m.g=p[q],k=sn(et,T,!1,m)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Li(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function sn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==p){var Ot=et.listener,Ae=et.ha||et.src;et.fa&&wr(u.i,et),k=Ot.call(Ae,T)!==!1&&k}}return k&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function vo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,vo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){nt.call(this),this.h=u,this.g={}}Y(Nr,nt);var Ir=[];function Vr(u){Ct(u.g,function(m,p){this.g.hasOwnProperty(p)&&As(m)},u),u.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Vr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Ss=g.JSON.parse,Or=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ua(){}Ua.prototype.h=null;function ka(u){return u.h||(u.h=u.i())}function La(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){W.call(this,"d")}Y(ui,W);function Pa(){W.call(this,"c")}Y(Pa,W);var jn={},za=null;function Pi(){return za=za||new se}jn.La="serverreachability";function Rs(u){W.call(this,jn.La,u)}Y(Rs,W);function zi(u){const m=Pi();qt(m,new Rs(m))}jn.STAT_EVENT="statevent";function Eo(u,m){W.call(this,jn.STAT_EVENT,u),this.stat=m}Y(Eo,W);function te(u){const m=Pi();qt(m,new Eo(m,u))}jn.Ma="timingevent";function Te(u,m){W.call(this,jn.Ma,u),this.size=m}Y(Te,W);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function ja(u,m,p,T,k,q){u.info(function(){if(u.g)if(q)for(var et="",Ot=q.split("&"),Ae=0;Ae<Ot.length;Ae++){var Mt=Ot[Ae].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var be=Ne.split("_");et=2<=be.length&&be[1]=="type"?et+(Ne+"="+Mt+"&"):et+(Ne+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+p+`
`+et})}function Ic(u,m,p,T,k,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+p+`
`+q+" "+et})}function ji(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(u,p)+(T?" "+T:"")})}function To(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Mr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<k.length;et++)k[et]=""}}}}return Nn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}Y(qn,Ua),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Ba={},ws={};function In(u,m,p){u.L=1,u.v=zr(an(m)),u.m=p,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Ur(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ya(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=Lo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Nc(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Ir[0]=k.toString()),k=Ir);for(var q=0;q<k.length;q++){var et=yo(p,k[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),zi(),ja(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const be=Tn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||be!=4||m==7||(m==8||0>=vi?zi(3):zi(2)),qi(this);var p=this.g.Z();this.X=p;e:if(Ao(this)){var T=Do(this.g);u="";var k=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Hn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Ic(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ae=this.g;if((Ot=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,p);else{this.o=!1,this.s=3,te(12),Ue(this),Hn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<et.length;)if(ke=bo(this,et),ke==ws){be==4&&(this.s=4,te(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Ba){this.s=4,te(15),ji(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,ke,null),kr(this,ke);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||et.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,et,"[Invalid Chunked Response]"),Ue(this),Hn(this);else if(0<et.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Yr(Ne),Ne.M=!0,te(11))}}else ji(this.i,this.l,et,null),kr(this,et);be==4&&Ue(this),this.o&&!this.J&&(be==4?Mo(this.j,this):(this.o=!1,Ur(this)))}else kc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ue(this),Hn(this)}}}catch{}finally{}};function Ao(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ws:(p=Number(m.substring(p,T)),isNaN(p)?Ba:(T+=1,T+p>m.length?ws:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Ur(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(D(u.ba,u),m)}function qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(To(this.i,this.A),this.L!=2&&(zi(),te(17)),Ue(this),this.s=2,Hn(this)):So(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Mo(u.j,u)}function Ue(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Vr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||qa(p.h,u))){if(!u.K&&qa(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ps(p),ks(p);else break t;Ja(p),te(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=ge(D(p.Za,p),6e3));if(1>=Cs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((u.K||p.g==u)&&Ps(p),!st(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let Mt=k[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const be=Mt[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const vi=Mt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ke=u.g;if(ke){const Zn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var q=T.h;q.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ds(q,q.h),q.h=null))}if(T.D){const tl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.ya=tl,Ft(T.I,T.D,tl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=ko(T,T.J?T.ia:null,T.W),et.K){Ze(T.h,et);var Ot=et,Ae=T.L;Ae&&(Ot.I=Ae),Ot.B&&(qi(Ot),Ur(Ot)),T.g=et}else Vo(T);0<p.i.length&&Ls(p)}else Mt[0]!="stop"&&Mt[0]!="close"||_i(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?_i(p,7):Za(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}zi(4)}catch{}}var Ro=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cs(u){return u.h?1:u.g?u.g.size:0}function qa(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ds(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ha(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function Vc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ga(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ns(u),T=Vc(u),k=T.length,q=0;q<k;q++)m.call(void 0,T[q],p&&p[q],u)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),k=null;if(0<=T){var q=u[p].substring(0,T);k=u[p].substring(T+1)}else q=u[p];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Pr(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=u.m}else u&&(m=String(u).match(Lr))?(this.h=!1,Pr(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Hi(this,m[4]),this.l=_n(m[5]||"",!0),di(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,Fa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Fa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(jr(p,p.charAt(0)=="/"?Mc:Qa,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",jr(p,Is)),u.join("")};function an(u){return new pe(u)}function Pr(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,p){m instanceof mi?(u.i=m,xo(u.i,u.h)):(p||(m=jr(m,Uc)),u.i=new mi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function zr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,wo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fa=/[#\/\?@]/g,Qa=/[#\?:]/g,Mc=/[#\?]/g,Uc=/[#\?@]/g,Is=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=mi.prototype,s.add=function(u,m){vn(this),this.i=null,u=Gn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function gi(u,m){vn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return vn(u),m=Gn(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const k=u[T];for(let q=0;q<k.length;q++)p.push(m[T])}return p},s.V=function(u){vn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return vn(this),this.i=null,u=Gn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ya(u,m,p){gi(u,m),0<p.length&&(u.i=null,u.g.set(Gn(u,m),tt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var k=q;et[T]!==""&&(k+="="+encodeURIComponent(String(et[T]))),u.push(k)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function xo(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var k=T.toLowerCase();T!=k&&(gi(this,T),Ya(this,k,p))},u)),u.j=m}function Br(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=H(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(En,p,"TestLoadImage: error",!1,m,T),T.onabort=H(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new yn,T=new AbortController,k=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(p)}catch{}}function qr(){this.g=new Or}function Fn(u,m,p){const T=p||"";try{Ga(u,function(k,q){let et=k;v(k)&&(et=Nn(k)),m.push(T+q+"="+encodeURIComponent(et))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function Gi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Gi,Ua),Gi.prototype.g=function(){return new yi(this.l,this.j)},Gi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(yi,se),s=yi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&Ka(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},s.Qa=function(u){this.g&&(this.response=u,Qn(this))},s.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xa(u){let m="";return Ct(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Xa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(jt,se);var Vs=/^https?$/i,Hr=["POST","PUT"];s=jt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?ka(this.o):ka(Bn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Co(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)p.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||T||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Co(this,q)}};function Co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Os(u),Kn(u)}function Os(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),jt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ms(this):this.bb())},s.bb=function(){Ms(this)};function Ms(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var k=String(u.D).match(Lr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Vs.test(k?k.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Os(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Gr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Gr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ss(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(st(u[T]))continue;var p=O(u[T]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[k]||[];m[k]=q,q.push(p)}V(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Us(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,u),this.cb=Fr("retryDelaySeedMs",1e4,u),this.Wa=Fr("forwardChannelMaxRetries",2,u),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Us.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){te(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=ko(this,null,this.W),Ls(this)};function Za(u){if(No(u),u.G==3){var m=u.U++,p=an(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Qr(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=zr(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ur(m)}Uo(u)}function ks(u){u.g&&(Yr(u),u.g.cancel(),u.g=null)}function No(u){ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ps(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ls(u){if(!xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||b(),ut||(it(),ut=!0),Vt.add(m,u),u.B=0}}function Lc(u,m){return Cs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(D(u.Ga,u,m),Wa(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Io(this,k,m),p=an(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Qr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Xa(q)))+"&"+m:this.m&&De(p,this.m,q)),Ds(this.h,k),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),k.T=!0,In(k,p,null)):In(k,p,m),this.G=2}}else this.G==3&&(u?$a(this,u):this.i.length==0||xs(this.h)||$a(this))};function $a(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Qr(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Io(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ds(u.h,p),In(p,T,m)}function Qr(u,m){u.H&&Ct(u.H,function(p,T){Ft(m,T,p)}),u.l&&Ga({},function(p,T){Ft(m,T,p)})}function Io(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const et=["count="+p];q==-1?0<p?(q=k[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Ot=!0;for(let Ae=0;Ae<p;Ae++){let Mt=k[Ae].g;const Ne=k[Ae].map;if(Mt-=q,0>Mt)q=Math.max(0,k[Ae].g-100),Ot=!1;else try{Fn(Ne,et,"req"+Mt+"_")}catch{T&&T(Ne)}}if(Ot){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Vo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||b(),ut||(it(),ut=!0),Vt.add(m,u),u.v=0}}function Ja(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(D(u.Fa,u),Wa(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Oo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(D(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),ks(this),Oo(this))};function Yr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Oo(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Qr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=zr(an(m)),p.m=null,p.P=!0,hi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,ks(this),Ja(this),te(19))};function Ps(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Mo(u,m){var p=null;if(u.g==m){Ps(u),Yr(u),u.g=null;var T=2}else if(qa(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Pi(),qt(T,new Te(T,p)),Ls(u)}else Vo(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Lc(u,m)||T==2&&Ja(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Wa(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const k=!T;T=new pe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Pr(T,"https"),zr(T),k?Br(T.toString(),p):Vn(T.toString(),p)}else te(2);u.G=0,u.l&&u.l.sa(m),Uo(u),No(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Uo(u){if(u.G=0,u.ka=[],u.l){const m=Ha(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function ko(u,m,p){var T=p instanceof pe?an(p):new pe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new pe(null);T&&Pr(q,T),m&&(q.g=m),k&&Hi(q,k),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Qr(u,T),T}function Lo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Gi({eb:p})):new jt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}s=Po.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function zs(){}zs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}Y($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Za(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Nn(u),u=p);m.i.push(new Ro(m.Ya++,u)),m.G==3&&Ls(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,$e.aa.N.call(this)};function zo(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(zo,ui);function jo(){Pa.call(this),this.status=1}Y(jo,Pa);function Xn(u){this.g=u}Y(Xn,Po),Xn.prototype.ua=function(){qt(this.g,"a")},Xn.prototype.ta=function(u){qt(this.g,new zo(u))},Xn.prototype.sa=function(u){qt(this.g,new jo)},Xn.prototype.ra=function(){qt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,yv=function(){return new zs},pv=function(){return Pi()},gv=jn,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Xu=Bi,ci.COMPLETE="complete",mv=ci,La.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",se.prototype.listen=se.prototype.K,Gl=La,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,dv=jt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",jy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new nv("@firebase/firestore");function ma(){return ds.logLevel}function rt(s,...e){if(ds.logLevel<=Lt.DEBUG){const i=e.map(yd);ds.debug(`Firestore (${xa}): ${s}`,...i)}}function Ui(s,...e){if(ds.logLevel<=Lt.ERROR){const i=e.map(yd);ds.error(`Firestore (${xa}): ${s}`,...i)}}function Ea(s,...e){if(ds.logLevel<=Lt.WARN){const i=e.map(yd);ds.warn(`Firestore (${xa}): ${s}`,...i)}}function yd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,_v(s,a,i)}function _v(s,e,i){let a=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ui(a),new Error(a)}function Bt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||_v(e,o,a)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class zA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class jA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new hs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new hs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Bt(typeof a.accessToken=="string",31837,{l:a}),new vv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class BA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new BA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,av(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new By(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=GA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function wt(s,e){return s<e?-1:s>e?1:0}function $f(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return wt(a,o);{const h=Ev(),d=FA(h.encode(qy(s,i)),h.encode(qy(e,i)));return d!==0?d:wt(a,o)}}i+=a>65535?2:1}return wt(s.length,e.length)}function qy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function FA(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return wt(s[i],e[i]);return wt(s.length,e.length)}function Ta(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-62135596800,Gy=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Gy);return new we(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Hy)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__name__";class ni{constructor(e,i,a){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&vt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const a=ni.isNumericId(e),o=ni.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class Wt extends ni{construct(e,i,a){return new Wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fy}static keyField(){return new Be([Fy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function YA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new we(i+1,0):new we(i,a));return new vr(o,ft.empty(),e)}function KA(s){return new vr(s.readTime,s.key,io)}class vr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(Tt.min(),ft.empty(),io)}static max(){return new vr(Tt.max(),ft.empty(),io)}}function XA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:wt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==ZA)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,a)=>{i(e)})}static reject(e){return new Z((i,a)=>{a(e)})}static waitFor(e){return new Z((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next(o=>o?Z.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Z((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new Z((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function JA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Da(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function pc(s){return s==null}function rc(s){return s===0&&1/s==-1/0}function WA(s){return typeof s=="number"&&Number.isInteger(s)&&!rc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="";function tb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Qy(e)),e=eb(s.get(i),e);return Qy(e)}function eb(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Av:i+="";break;default:i+=h}}return i}function Qy(s){return s+Av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ys(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function bv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new je(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new kn([])}unionWith(e){let i=new xe(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Sv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(s){if(Bt(!!s,39018),typeof s=="string"){let e=0;const i=nb.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Tr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="server_timestamp",wv="__type__",xv="__previous_value__",Cv="__local_write_time__";function vd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[wv])===null||i===void 0?void 0:i.stringValue)===Rv}function yc(s){const e=s.mapValue.fields[xv];return vd(e)?yc(e):e}function ro(s){const e=Er(s.mapValue.fields[Cv].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,a,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const sc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||sc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===sc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__type__",rb="__max__",Gu={mapValue:{}},Nv="__vector__",ac="value";function Ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vd(s)?4:ab(s)?9007199254740991:sb(s)?10:11:vt(28295,{value:s})}function ai(s,e){if(s===e)return!0;const i=Ar(s);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ro(s).isEqual(ro(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Er(o.timestampValue),g=Er(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Tr(o.bytesValue).isEqual(Tr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?rc(d)===rc(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return Ta(s.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Yy(d)!==Yy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0}(s,e);default:return vt(52216,{left:s})}}function ao(s,e){return(s.values||[]).find(i=>ai(i,e))!==void 0}function Aa(s,e){if(s===e)return 0;const i=Ar(s),a=Ar(e);if(i!==a)return wt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),_=de(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Xy(s.timestampValue,e.timestampValue);case 4:return Xy(ro(s),ro(e));case 5:return $f(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Tr(h),_=Tr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=wt(g[v],_[v]);if(A!==0)return A}return wt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(de(h.latitude),de(d.latitude));return g!==0?g:wt(de(h.longitude),de(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Zy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const C=h.fields||{},D=d.fields||{},H=(g=C[ac])===null||g===void 0?void 0:g.arrayValue,Y=(_=D[ac])===null||_===void 0?void 0:_.arrayValue,tt=wt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=Y==null?void 0:Y.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:Zy(H,Y)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Gu.mapValue&&d===Gu.mapValue)return 0;if(h===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const D=$f(_[C],A[C]);if(D!==0)return D;const H=Aa(g[_[C]],v[A[C]]);if(H!==0)return H}return wt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw vt(23264,{Pe:i})}}function Xy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return wt(s,e);const i=Er(s),a=Er(e),o=wt(i.seconds,a.seconds);return o!==0?o:wt(i.nanos,a.nanos)}function Zy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Aa(i[o],a[o]);if(h)return h}return wt(i.length,a.length)}function ba(s){return Jf(s)}function Jf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Er(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Tr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Jf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Jf(i.fields[d])}`;return o+"}"}(s.mapValue):vt(61005,{value:s})}function Zu(s){switch(Ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(s);return e?16+Zu(e):16;case 5:return 2*s.stringValue.length;case 6:return Tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Zu(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return ys(a.fields,(h,d)=>{o+=h.length+Zu(d)}),o}(s.mapValue);default:throw vt(13486,{value:s})}}function $y(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Wf(s){return!!s&&"integerValue"in s}function Ed(s){return!!s&&"arrayValue"in s}function Jy(s){return!!s&&"nullValue"in s}function Wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $u(s){return!!s&&"mapValue"in s}function sb(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dv])===null||i===void 0?void 0:i.stringValue)===Nv}function Xl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ys(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Xl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function ab(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===rb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!$u(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Be.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());$u(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ys(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Dn(Xl(this.value))}}function Iv(s){const e=[];return ys(s.fields,(i,a)=>{const o=new Be([i]);if($u(a)){const h=Iv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ke(e,1,i,Tt.min(),a,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.position=e,this.inclusive=i}}function t_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Aa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function e_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ai(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function lb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{}class Ee extends Vv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ub(e,i,a):i==="array-contains"?new fb(e,a):i==="in"?new db(e,a):i==="not-in"?new mb(e,a):i==="array-contains-any"?new gb(e,a):new Ee(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cb(e,a):new hb(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Aa(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(Aa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends Vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Pn(e,i)}matches(e){return Ov(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ov(s){return s.op==="and"}function Mv(s){return ob(s)&&Ov(s)}function ob(s){for(const e of s.filters)if(e instanceof Pn)return!1;return!0}function td(s){if(s instanceof Ee)return s.field.canonicalString()+s.op.toString()+ba(s.value);if(Mv(s))return s.filters.map(e=>td(e)).join(",");{const e=s.filters.map(i=>td(i)).join(",");return`${s.op}(${e})`}}function Uv(s,e){return s instanceof Ee?function(a,o){return o instanceof Ee&&a.op===o.op&&a.field.isEqual(o.field)&&ai(a.value,o.value)}(s,e):s instanceof Pn?function(a,o){return o instanceof Pn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&Uv(d,o.filters[g]),!0):!1}(s,e):void vt(19439)}function kv(s){return s instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${ba(i.value)}`}(s):s instanceof Pn?function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"}(s):"Filter"}class ub extends Ee{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class cb extends Ee{constructor(e,i){super(e,"in",i),this.keys=Lv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class hb extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=Lv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Lv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class fb extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&ao(i.arrayValue,this.value)}}class db extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class mb extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ao(this.value.arrayValue,i)}}class gb extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>ao(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function n_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new pb(s,e,i,a,o,h,d)}function Td(s){const e=At(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>td(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ba(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ba(a)).join(",")),e.Ie=i}return e.Ie}function Ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Uv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!e_(s.startAt,e.startAt)&&e_(s.endAt,e.endAt)}function ed(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yb(s,e,i,a,o,h,d,g){return new Na(s,e,i,a,o,h,d,g)}function bd(s){return new Na(s)}function i_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Pv(s){return s.collectionGroup!==null}function Zl(s){const e=At(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new lo(h,a))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new lo(Be.keyField(),a))}return e.Ee}function ri(s){const e=At(s);return e.de||(e.de=_b(e,Zl(s))),e.de}function _b(s,e){if(s.limitType==="F")return n_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new lo(o.field,h)});const i=s.endAt?new lc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new lc(s.startAt.position,s.startAt.inclusive):null;return n_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function nd(s,e){const i=s.filters.concat([e]);return new Na(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function id(s,e,i){return new Na(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _c(s,e){return Ad(ri(s),ri(e))&&s.limitType===e.limitType}function zv(s){return`${Td(ri(s))}|lt:${s.limitType}`}function ga(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>kv(o)).join(", ")}]`),pc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ba(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ba(o)).join(",")),`Target(${a})`}(ri(s))}; limitType=${s.limitType})`}function vc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Zl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=t_(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Zl(a),o)||a.endAt&&!function(d,g,_){const v=t_(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Zl(a),o))}(s,e)}function vb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function jv(s){return(e,i)=>{let a=!1;for(const o of Zl(s)){const h=Eb(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function Eb(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Aa(_,v):vt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new re(ft.comparator);function ki(){return Tb}const Bv=new re(ft.comparator);function Fl(...s){let e=Bv;for(const i of s)e=e.insert(i.key,i);return e}function qv(s){let e=Bv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function cs(){return $l()}function Hv(){return $l()}function $l(){return new _s(s=>s.toString(),(s,e)=>s.isEqual(e))}const Ab=new re(ft.comparator),bb=new xe(ft.comparator);function It(...s){let e=bb;for(const i of s)e=e.add(i);return e}const Sb=new xe(wt);function Rb(){return Sb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function Gv(s){return{integerValue:""+s}}function wb(s,e){return WA(e)?Gv(e):Sd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function xb(s,e,i){return s instanceof oo?function(o,h){const d={fields:{[wv]:{stringValue:Rv},[Cv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&vd(h)&&(h=yc(h)),h&&(d.fields[xv]=h),{mapValue:d}}(i,e):s instanceof uo?Qv(s,e):s instanceof co?Yv(s,e):function(o,h){const d=Fv(o,h),g=r_(d)+r_(o.Re);return Wf(d)&&Wf(o.Re)?Gv(g):Sd(o.serializer,g)}(s,e)}function Cb(s,e,i){return s instanceof uo?Qv(s,e):s instanceof co?Yv(s,e):i}function Fv(s,e){return s instanceof oc?function(a){return Wf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class oo extends Ec{}class uo extends Ec{constructor(e){super(),this.elements=e}}function Qv(s,e){const i=Kv(e);for(const a of s.elements)i.some(o=>ai(o,a))||i.push(a);return{arrayValue:{values:i}}}class co extends Ec{constructor(e){super(),this.elements=e}}function Yv(s,e){let i=Kv(e);for(const a of s.elements)i=i.filter(o=>!ai(o,a));return{arrayValue:{values:i}}}class oc extends Ec{constructor(e,i){super(),this.serializer=e,this.Re=i}}function r_(s){return de(s.integerValue||s.doubleValue)}function Kv(s){return Ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,i){this.field=e,this.transform=i}}function Nb(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof uo&&o instanceof uo||a instanceof co&&o instanceof co?Ta(a.elements,o.elements,ai):a instanceof oc&&o instanceof oc?ai(a.Re,o.Re):a instanceof oo&&o instanceof oo}(s.transform,e.transform)}class Ib{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Tc{}function Xv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $v(s.key,Oi.none()):new fo(s.key,s.data,Oi.none());{const i=s.data,a=Dn.empty();let o=new xe(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new vs(s.key,a,new kn(o.toArray()),Oi.none())}}function Vb(s,e,i){s instanceof fo?function(o,h,d){const g=o.value.clone(),_=a_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof vs?function(o,h,d){if(!Ju(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=a_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Zv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(s,e,i,a){return s instanceof fo?function(h,d,g,_){if(!Ju(h.precondition,d))return g;const v=h.value.clone(),A=l_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof vs?function(h,d,g,_){if(!Ju(h.precondition,d))return g;const v=l_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Zv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,e,i,a):function(h,d,g){return Ju(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function Ob(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=Fv(a.transform,o||null);h!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,h))}return i||null}function s_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ta(a,o,(h,d)=>Nb(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fo extends Tc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Tc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Zv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function a_(s,e,i){const a=new Map;Bt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,Cb(d,g,i[o]))}return a}function l_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,xb(h,d,e))}return a}class $v extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mb extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Vb(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Hv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Xv(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(i,a)=>s_(i,a))&&Ta(this.baseMutations,e.baseMutations,(i,a)=>s_(i,a))}}class Rd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Bt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return Ab}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Rd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,kt;function Pb(s){switch(s){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function Jv(s){if(s===void 0)return Ui("GRPC error has no .code"),J.UNKNOWN;switch(s){case ve.OK:return J.OK;case ve.CANCELLED:return J.CANCELLED;case ve.UNKNOWN:return J.UNKNOWN;case ve.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ve.INTERNAL:return J.INTERNAL;case ve.UNAVAILABLE:return J.UNAVAILABLE;case ve.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ve.NOT_FOUND:return J.NOT_FOUND;case ve.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ve.ABORTED:return J.ABORTED;case ve.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ve.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:s})}}(kt=ve||(ve={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new yr([4294967295,4294967295],0);function o_(s){const e=Ev().encode(s),i=new fv;return i.update(e),new Uint8Array(i.digest())}function u_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new yr([i,a],0),new yr([o,h],0)]}class wd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(a<0)throw new Ql(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=yr.fromNumber(this.pe)}we(e,i,a){let o=e.add(i.multiply(yr.fromNumber(a)));return o.compare(zb)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=o_(e),[a,o]=u_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,o,h);if(!this.Se(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new wd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=o_(e),[a,o]=u_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ac(Tt.min(),o,new re(wt),ki(),It())}}class mo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new mo(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,a,o){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=o}}class Wv{constructor(e,i){this.targetId=e,this.Ce=i}}class t0{constructor(e,i,a=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class c_{constructor(){this.Fe=0,this.Me=h_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=It(),i=It(),a=It();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:h})}}),new mo(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=h_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jb{constructor(e){this.ze=e,this.je=new Map,this.He=ki(),this.Je=Fu(),this.Ye=Fu(),this.Ze=new re(wt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,a=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(ed(h))if(a===0){const d=new ft(h.path);this.tt(i,d,Ke.newNoDocument(d,Tt.min()))}else Bt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Tr(a).toUint8Array()}catch(_){if(_ instanceof Sv)return Ea("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new wd(d,o,h)}catch(_){return Ea(_ instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&ed(g.target)){const _=new ft(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Ke.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=It();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new Ac(e,i,this.Ze,this.He,a);return this.He=ki(),this.Je=Fu(),this.Ye=Fu(),this.Ze=new re(wt),o}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new c_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new xe(wt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new xe(wt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new c_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Fu(){return new re(ft.comparator)}function h_(){return new re(ft.comparator)}const Bb={asc:"ASCENDING",desc:"DESCENDING"},qb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hb={and:"AND",or:"OR"};class Gb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rd(s,e){return s.useProto3Json||pc(e)?e:{value:e}}function uc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Fb(s,e){return uc(s,e.toTimestamp())}function si(s){return Bt(!!s,49232),Tt.fromTimestamp(function(i){const a=Er(i);return new we(a.seconds,a.nanos)}(s))}function xd(s,e){return sd(s,e).canonicalString()}function sd(s,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function n0(s){const e=Wt.fromString(s);return Bt(l0(e),10190,{key:e.toString()}),e}function ad(s,e){return xd(s.databaseId,e.path)}function zf(s,e){const i=n0(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(r0(i))}function i0(s,e){return xd(s.databaseId,e)}function Qb(s){const e=n0(s);return e.length===4?Wt.emptyPath():r0(e)}function ld(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function r0(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f_(s,e,i){return{name:ad(s,e),fields:i.value.mapValue.fields}}function Yb(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?J.UNKNOWN:Jv(v.code);return new lt(A,v.message||"")}(d);i=new t0(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=zf(s,a.document.name),h=si(a.document.updateTime),d=a.document.createTime?si(a.document.createTime):Tt.min(),g=new Dn({mapValue:{fields:a.document.fields}}),_=Ke.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Wu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=zf(s,a.document),h=a.readTime?si(a.readTime):Tt.min(),d=Ke.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Wu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=zf(s,a.document),h=a.removedTargetIds||[];i=new Wu([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new Lb(o,h),g=a.targetId;i=new Wv(g,d)}}return i}function Kb(s,e){let i;if(e instanceof fo)i={update:f_(s,e.key,e.value)};else if(e instanceof $v)i={delete:ad(s,e.key)};else if(e instanceof vs)i={update:f_(s,e.key,e.data),updateMask:iS(e.fieldMask)};else{if(!(e instanceof Mb))return vt(16599,{ft:e.type});i={verify:ad(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof oo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw vt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Fb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)}(s,e.precondition)),i}function Xb(s,e){return s&&s.length>0?(Bt(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?si(o.updateTime):si(h);return d.isEqual(Tt.min())&&(d=si(h)),new Ib(d,o.transformResults||[])}(i,e))):[]}function Zb(s,e){return{documents:[i0(s,e.path)]}}function $b(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=i0(s,o);const h=function(v){if(v.length!==0)return a0(Pn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:pa(D.field),direction:tS(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function Jb(s){let e=Qb(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Bt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const D=s0(C);return D instanceof Pn&&Mv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function(Y){return new lo(ya(Y.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,pc(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(C){const D=!!C.before,H=C.values||[];return new lc(H,D)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const D=!C.before,H=C.values||[];return new lc(H,D)}(i.endAt)),yb(e,o,d,h,g,"F",_,v)}function Wb(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function s0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ya(i.unaryFilter.field);return Ee.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ya(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ya(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ya(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ee.create(ya(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Pn.create(i.compositeFilter.filters.map(a=>s0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(s):vt(30097,{filter:s})}function tS(s){return Bb[s]}function eS(s){return qb[s]}function nS(s){return Hb[s]}function pa(s){return{fieldPath:s.canonicalString()}}function ya(s){return Be.fromServerFormat(s.fieldPath)}function a0(s){return s instanceof Ee?function(i){if(i.op==="=="){if(Wy(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NAN"}};if(Jy(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wy(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NOT_NAN"}};if(Jy(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(i.field),op:eS(i.op),value:i.value}}}(s):s instanceof Pn?function(i){const a=i.getFilters().map(o=>a0(o));return a.length===1?a[0]:{compositeFilter:{op:nS(i.op),filters:a}}}(s):vt(54877,{filter:s})}function iS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function l0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,a,o,h=Tt.min(),d=Tt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.wt=e}}function sS(s){const e=Jb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Cn=new lS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class lS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new xe(Wt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new xe(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(o0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Sa(0)}static lr(){return new Sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",oS=1048576;function g_([s,e],[i,a]){const o=wt(s,i);return o===0?wt(e,a):o}class uS{constructor(e){this.Er=e,this.buffer=new xe(g_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();g_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){rt(m_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Da(i)?rt(m_,"Ignoring IndexedDB error during garbage collection: ",i):await Ca(i)}await this.mr(3e5)})}}class hS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(gc.le);const a=new uS(i);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(d_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(a=C,g=Date.now(),this.removeTargets(e,a,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(v=Date.now(),ma()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C})))}}function fS(s,e){return new hS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changes=new _s(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Jl(a.mutation,o,kn.empty(),we.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const o=cs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Fl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=cs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=ki();const d=$l(),g=function(){return $l()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof vs)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Jl(A.mutation,v,A.mutation.getFieldMask(),we.now())):d.set(v.key,kn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new mS(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const a=$l();let o=new re((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||kn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const C=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,C=Hv();A.forEach(D=>{if(!h.has(D)){const H=Xv(i.get(D),a.get(D));H!==null&&C.set(D,H),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return Z.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Pv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(cs());let g=io,_=h;return d.next(v=>Z.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{_=_.insert(A,D)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,It())).next(A=>({batchId:g,changes:qv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let o=Fl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,_=>{const v=function(C,D){return new Na(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Fl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Jl(A.mutation,v,kn.empty(),we.now()),vc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return Z.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:si(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.overlays=new re(ft.comparator),this.Qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=cs();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.bt(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=cs(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=cs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=cs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Z.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kb(i,a));let h=this.Qr.get(i);h===void 0&&(h=It(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.$r=new xe(Me.Ur),this.Kr=new xe(Me.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Me(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Me(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ft(new Wt([])),a=new Me(i,e),o=new Me(i,e+1),h=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ft(new Wt([])),a=new Me(i,e),o=new Me(i,e+1);let h=It();return this.Kr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ft.comparator(e.key,i.key)||wt(e.Zr,i.Zr)}static Wr(e,i){return wt(e.Zr,i.Zr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new xe(Me.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ub(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ti(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_d:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,o],d=>{const g=this.ei(d.Zr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new xe(wt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),Z.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ft(h),0);let g=new xe(wt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Zr)),!0)},d),Z.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Bt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return Z.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Me(i,0),o=this.Xr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.ii=e,this.docs=function(){return new re(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let a=ki();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ki();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||XA(KA(A),a)<=0||(o.has(A.key)||vc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){vt(9500)}si(e,i){return Z.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new TS(this)}getSize(e){return Z.resolve(this.size)}}class TS extends dS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),Z.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.persistence=e,this.oi=new _s(i=>Td(i),Ad),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this._i=0,this.ai=new Cd,this.targetCount=0,this.ui=Sa.cr()}forEachTarget(e,i){return this.oi.forEach((a,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),Z.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Sa(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Tr(i),Z.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,i){this.ci={},this.overlays={},this.li=new gc(0),this.hi=!1,this.hi=!0,this.Pi=new _S,this.referenceDelegate=e(this),this.Ti=new AS(this),this.indexManager=new aS,this.remoteDocumentCache=function(o){return new ES(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new rS(i),this.Ei=new pS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new vS(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const o=new bS(this.li.next());return this.referenceDelegate.di(),a(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return Z.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class bS extends $A{constructor(e){super(),this.currentSequenceNumber=e}}class Dd{constructor(e){this.persistence=e,this.Vi=new Cd,this.mi=null}static fi(e){return new Dd(e)}get gi(){if(this.mi)return this.mi;throw vt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,a=>{const o=ft.fromPath(a);return this.pi(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return Z.or([()=>Z.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.yi=new _s(a=>tb(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=fS(this,i)}static fi(e,i){return new cc(e,i)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}Sr(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return Z.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),Z.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}Dr(e,i,a){return Z.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.ds=a,this.As=o}static Rs(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Nd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return S1()?8:JA(A1())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new SS;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,o){return a.documentReadCount<this.gs?(ma()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(ma()<=Lt.DEBUG&&rt("QueryEngine","Query:",ga(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(ma()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(i))):Z.resolve())}ws(e,i){if(i_(i))return Z.resolve(null);let a=ri(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),a=ri(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,id(i,null,"F")):this.Fs(e,v,i,_)}))})))}Ss(e,i,a,o){return i_(i)||o.isEqual(Tt.min())?Z.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,o)?Z.resolve(null):(ma()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ga(i)),this.Fs(e,d,i,YA(o,io)).next(g=>g))})}vs(e,i){let a=new xe(jv(e));return i.forEach((o,h)=>{vc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}bs(e,i,a){return ma()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ga(i)),this.ys.getDocumentsMatchingQuery(e,i,vr.min(),a)}Fs(e,i,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="LocalStore",wS=3e8;class xS{constructor(e,i,a,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new re(wt),this.Os=new _s(h=>Td(h),Ad),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function CS(s,e,i,a){return new xS(s,e,i,a)}async function c0(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function DS(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const C=v.batch,D=C.keys();let H=Z.resolve();return D.forEach(Y=>{H=H.next(()=>A.getEntry(_,Y)).next(tt=>{const $=v.docVersions.get(Y);Bt($!==null,48541),tt.version.compareTo($)<0&&(C.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,C))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function h0(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function NS(s,e){const i=At(s),a=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,C)=>{const D=o.get(C);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,C)));let H=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),o=o.insert(C,H),function(tt,$,dt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=wS?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0}(D,H,A)&&g.push(i.Ti.updateTargetData(h,H))});let _=ki(),v=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(IS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(Tt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(C=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=o,h))}function IS(s,e,i){let a=It(),o=It();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=ki();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):rt(Id,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:o}})}function VS(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function OS(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Ti.getTargetData(a,e).next(h=>h?(o=h,Z.resolve(o)):i.Ti.allocateTargetId(a).next(d=>(o=new dr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function od(s,e,i){const a=At(s),o=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Da(d))throw d;rt(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function p_(s,e,i){const a=At(s);let o=Tt.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const C=At(_),D=C.Os.get(A);return D!==void 0?Z.resolve(C.xs.get(D)):C.Ti.getTargetData(v,A)}(a,d,ri(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:It())).next(g=>(MS(a,vb(e),g),{documents:g,$s:h})))}function MS(s,e,i){let a=s.Ns.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class y_{constructor(){this.activeTargetIds=Rb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class US{constructor(){this.xo=new y_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new y_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class v_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(__,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){rt(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function ud(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===sc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,i,a,o,h){const d=ud(),g=this.jo(e,i.toUriEncodedString());rt(jf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,h);const{host:v}=new URL(g),A=ho(v);return this.Jo(e,g,_,a,A).then(C=>(rt(jf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw Ea(jf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C})}Yo(e,i,a,o,h,d){return this.zo(e,i,a,o,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const a=LS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class jS extends PS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=ud();return new Promise((g,_)=>{const v=new dv;v.setWithCredentials(!0),v.listenOnce(mv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Xu.NO_ERROR:const C=v.getResponseJson();rt(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Xu.TIMEOUT:rt(Qe,`RPC '${e}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const D=v.getStatus();if(rt(Qe,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const Y=H==null?void 0:H.error;if(Y&&Y.status&&Y.message){const tt=function(dt){const st=dt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN}(Y.status);_(new lt(tt,Y.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);rt(Qe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)})}T_(e,i,a){const o=ud(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yv(),g=pv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");rt(Qe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const C=d.createWebChannel(A,_);let D=!1,H=!1;const Y=new zS({Zo:$=>{H?rt(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(D||(rt(Qe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),D=!0),rt(Qe,`RPC '${e}' stream ${o} sending:`,$),C.send($))},Xo:()=>C.close()}),tt=($,dt,st)=>{$.listen(dt,ot=>{try{st(ot)}catch(pt){setTimeout(()=>{throw pt},0)}})};return tt(C,Gl.EventType.OPEN,()=>{H||(rt(Qe,`RPC '${e}' stream ${o} transport opened.`),Y.__())}),tt(C,Gl.EventType.CLOSE,()=>{H||(H=!0,rt(Qe,`RPC '${e}' stream ${o} transport closed`),Y.u_())}),tt(C,Gl.EventType.ERROR,$=>{H||(H=!0,Ea(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Y.u_(new lt(J.UNAVAILABLE,"The operation could not be completed")))}),tt(C,Gl.EventType.MESSAGE,$=>{var dt;if(!H){const st=$.data[0];Bt(!!st,16349);const ot=st,pt=(ot==null?void 0:ot.error)||((dt=ot[0])===null||dt===void 0?void 0:dt.error);if(pt){rt(Qe,`RPC '${e}' stream ${o} received error:`,pt);const mt=pt.status;let Ct=function(x){const I=ve[x];if(I!==void 0)return Jv(I)}(mt),V=pt.message;Ct===void 0&&(Ct=J.INTERNAL,V="Unknown error status: "+mt+" with message "+pt.message),H=!0,Y.u_(new lt(Ct,V)),C.close()}else rt(Qe,`RPC '${e}' stream ${o} received:`,st),Y.c_(st)}}),tt(g,gv.STAT_EVENT,$=>{$.stat===Zf.PROXY?rt(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Zf.NOPROXY&&rt(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Y.a_()},0),Y}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(s){return new Gb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=a,this.E_=o,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class d0{constructor(e,i,a,o,h,d,g,_){this.xi=e,this.y_=a,this.w_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new f0(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.S_===i&&this.K_(a,o)},a=>{e(()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(o)})})}K_(e,i){const a=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.W_(o))}),this.stream.onMessage(o=>{a(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return rt(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(rt(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BS extends d0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=Yb(this.serializer,e),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?si(d.readTime):Tt.min()}(e);return this.listener.j_(i,a)}H_(e){const i={};i.database=ld(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=ed(_)?{documents:Zb(h,_)}:{query:$b(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=e0(h,d.resumeToken);const v=rd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=uc(h,d.snapshotVersion.toTimestamp());const v=rd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=Wb(this.serializer,e);a&&(i.labels=a),this.L_(i)}J_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.L_(i)}}class qS extends d0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=Xb(e.writeResults,e.commitTime),a=si(e.commitTime);return this.listener.ea(a,i)}ta(){const e={};e.database=ld(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>Kb(this.serializer,a))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class GS extends HS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.na=!1}ra(){if(this.na)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,sd(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(J.UNKNOWN,h.toString())})}Yo(e,i,a,o,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,sd(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ui(i),this.oa=!1):rt("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class QS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{a.enqueueAndForget(async()=>{Es(this)&&(rt(ms,"Restarting streams for network reachability change."),await async function(_){const v=At(_);v.Ta.add(4),await go(v),v.da.set("Unknown"),v.Ta.delete(4),await Sc(v)}(this))})}),this.da=new FS(a,o)}}async function Sc(s){if(Es(s))for(const e of s.Ia)await e(!0)}async function go(s){for(const e of s.Ia)await e(!1)}function m0(s,e){const i=At(s);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Ud(i)?Md(i):Ia(i).M_()&&Od(i,e))}function Vd(s,e){const i=At(s),a=Ia(i);i.Pa.delete(e),a.M_()&&g0(i,e),i.Pa.size===0&&(a.M_()?a.N_():Es(i)&&i.da.set("Unknown"))}function Od(s,e){if(s.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ia(s).H_(e)}function g0(s,e){s.Aa.Ke(e),Ia(s).J_(e)}function Md(s){s.Aa=new jb({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Pa.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Ia(s).start(),s.da._a()}function Ud(s){return Es(s)&&!Ia(s).F_()&&s.Pa.size>0}function Es(s){return At(s).Ta.size===0}function p0(s){s.Aa=void 0}async function YS(s){s.da.set("Online")}async function KS(s){s.Pa.forEach((e,i)=>{Od(s,e)})}async function XS(s,e){p0(s),Ud(s)?(s.da.ca(e),Md(s)):s.da.set("Unknown")}async function ZS(s,e,i){if(s.da.set("Online"),e instanceof t0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Pa.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Pa.delete(g),o.Aa.removeTarget(g))}(s,e)}catch(a){rt(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hc(s,a)}else if(e instanceof Wu?s.Aa.Xe(e):e instanceof Wv?s.Aa.ot(e):s.Aa.nt(e),!i.isEqual(Tt.min()))try{const a=await h0(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Pa.get(v);A&&h.Pa.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Pa.get(_);if(!A)return;h.Pa.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),g0(h,_);const C=new dr(A.target,_,v,A.sequenceNumber);Od(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){rt(ms,"Failed to raise snapshot:",a),await hc(s,a)}}async function hc(s,e,i){if(!Da(e))throw e;s.Ta.add(1),await go(s),s.da.set("Offline"),i||(i=()=>h0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(ms,"Retrying IndexedDB access"),await i(),s.Ta.delete(1),await Sc(s)})}function y0(s,e){return e().catch(i=>hc(s,i,e))}async function Rc(s){const e=At(s),i=br(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:_d;for(;$S(e);)try{const o=await VS(e.localStore,a);if(o===null){e.ha.length===0&&i.N_();break}a=o.batchId,JS(e,o)}catch(o){await hc(e,o)}_0(e)&&v0(e)}function $S(s){return Es(s)&&s.ha.length<10}function JS(s,e){s.ha.push(e);const i=br(s);i.M_()&&i.Y_&&i.Z_(e.mutations)}function _0(s){return Es(s)&&!br(s).F_()&&s.ha.length>0}function v0(s){br(s).start()}async function WS(s){br(s).ta()}async function t2(s){const e=br(s);for(const i of s.ha)e.Z_(i.mutations)}async function e2(s,e,i){const a=s.ha.shift(),o=Rd.from(a,e,i);await y0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Rc(s)}async function n2(s,e){e&&br(s).Y_&&await async function(a,o){if(function(d){return Pb(d)&&d!==J.ABORTED}(o.code)){const h=a.ha.shift();br(a).O_(),await y0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Rc(a)}}(s,e),_0(s)&&v0(s)}async function T_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(ms,"RemoteStore received new credentials");const a=Es(i);i.Ta.add(3),await go(i),a&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await Sc(i)}async function i2(s,e){const i=At(s);e?(i.Ta.delete(2),await Sc(i)):e||(i.Ta.add(2),await go(i),i.da.set("Unknown"))}function Ia(s){return s.Ra||(s.Ra=function(i,a,o){const h=At(i);return h.ra(),new BS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:YS.bind(null,s),n_:KS.bind(null,s),i_:XS.bind(null,s),j_:ZS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Ra.O_(),Ud(s)?Md(s):s.da.set("Unknown")):(await s.Ra.stop(),p0(s))})),s.Ra}function br(s){return s.Va||(s.Va=function(i,a,o){const h=At(i);return h.ra(),new qS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:WS.bind(null,s),i_:n2.bind(null,s),X_:t2.bind(null,s),ea:e2.bind(null,s)}),s.Ia.push(async e=>{e?(s.Va.O_(),await Rc(s)):(await s.Va.stop(),s.ha.length>0&&(rt(ms,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new kd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(s,e){if(Ui("AsyncQueue",`${e}: ${s}`),Da(s))return new lt(J.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{static emptySet(e){return new _a(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Fl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new _a;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.ma=new re(ft.comparator)}track(e){const i=e.doc.key,a=this.ma.get(i);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(i,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(i):e.type===1&&a.type===2?this.ma=this.ma.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):vt(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,a)=>{e.push(a)}),e}}class Ra{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ra(e,i,_a.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class s2{constructor(){this.queries=b_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,a){const o=At(i),h=o.queries;o.queries=b_(),h.forEach((d,g)=>{for(const _ of g.ya)_.onError(a)})})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function b_(){return new _s(s=>zv(s),_c)}async function a2(s,e){const i=At(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.wa()&&e.Sa()&&(a=2):(h=new r2,a=e.Sa()?0:1);try{switch(a){case 0:h.pa=await i.onListen(o,!0);break;case 1:h.pa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Ld(d,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Pd(i)}async function l2(s,e){const i=At(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?o=e.Sa()?0:1:!h.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function o2(s,e){const i=At(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(o)&&(a=!0);d.pa=o}}a&&Pd(i)}function u2(s,e,i){const a=At(s),o=a.queries.get(e);if(o)for(const h of o.ya)h.onError(i);a.queries.delete(e)}function Pd(s){s.ba.forEach(e=>{e.next()})}var cd,S_;(S_=cd||(cd={})).Ca="default",S_.Cache="cache";class c2{constructor(e,i,a){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ra(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const a=i!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class h2{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=It(),this.mutatedKeys=It(),this.Ha=jv(e),this.Ja=new _a(this.Ha)}get Ya(){return this.Ga}Za(e,i){const a=i?i.Xa:new A_,o=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,C)=>{const D=o.get(A),H=vc(this.query,C)?C:null,Y=!!D&&this.mutatedKeys.has(D.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;D&&H?D.data.isEqual(H.data)?Y!==tt&&(a.track({type:3,doc:H}),$=!0):this.eu(D,H)||(a.track({type:2,doc:H}),$=!0,(_&&this.Ha(H,_)>0||v&&this.Ha(H,v)<0)&&(g=!0)):!D&&H?(a.track({type:0,doc:H}),$=!0):D&&!H&&(a.track({type:1,doc:D}),$=!0,(_||v)&&(g=!0)),$&&(H?(d=d.add(H),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Ja:d,Xa:a,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,C)=>function(H,Y){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:$})}};return tt(H)-tt(Y)}(A.type,C.type)||this.Ha(A.doc,C.doc)),this.tu(a),o=o!=null&&o;const g=i&&!o?this.nu():[],_=this.ja.size===0&&this.current&&!o?1:0,v=_!==this.za;return this.za=_,d.length!==0||v?{snapshot:new Ra(this.query,e.Ja,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=It(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const i=[];return e.forEach(a=>{this.ja.has(a)||i.push(new T0(a))}),this.ja.forEach(a=>{e.has(a)||i.push(new E0(a))}),i}su(e){this.Ga=e.$s,this.ja=It();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return Ra.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const zd="SyncEngine";class f2{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class d2{constructor(e){this.key=e,this._u=!1}}class m2{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new _s(g=>zv(g),_c),this.cu=new Map,this.lu=new Set,this.hu=new re(ft.comparator),this.Pu=new Map,this.Tu=new Cd,this.Iu={},this.Eu=new Map,this.du=Sa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function g2(s,e,i=!0){const a=x0(s);let o;const h=a.uu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.ou()):o=await A0(a,e,i,!0),o}async function p2(s,e){const i=x0(s);await A0(i,e,!0,!1)}async function A0(s,e,i,a){const o=await OS(s.localStore,ri(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await y2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&m0(s.remoteStore,o),g}async function y2(s,e,i,a,o){s.Ru=(C,D,H)=>async function(tt,$,dt,st){let ot=$.view.Za(dt);ot.Cs&&(ot=await p_(tt.localStore,$.query,!1).then(({documents:V})=>$.view.Za(V,ot)));const pt=st&&st.targetChanges.get($.targetId),mt=st&&st.targetMismatches.get($.targetId)!=null,Ct=$.view.applyChanges(ot,tt.isPrimaryClient,pt,mt);return w_(tt,$.targetId,Ct.ru),Ct.snapshot}(s,C,D,H);const h=await p_(s.localStore,e,!0),d=new h2(e,h.$s),g=d.Za(h.documents),_=mo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);w_(s,i,v.ru);const A=new f2(e,i,d);return s.uu.set(e,A),s.cu.has(i)?s.cu.get(i).push(e):s.cu.set(i,[e]),v.snapshot}async function _2(s,e,i){const a=At(s),o=a.uu.get(e),h=a.cu.get(o.targetId);if(h.length>1)return a.cu.set(o.targetId,h.filter(d=>!_c(d,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await od(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Vd(a.remoteStore,o.targetId),hd(a,o.targetId)}).catch(Ca)):(hd(a,o.targetId),await od(a.localStore,o.targetId,!0))}async function v2(s,e){const i=At(s),a=i.uu.get(e),o=i.cu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Vd(i.remoteStore,a.targetId))}async function E2(s,e,i){const a=x2(s);try{const o=await function(d,g){const _=At(d),v=we.now(),A=g.reduce((H,Y)=>H.add(Y.key),It());let C,D;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Y=ki(),tt=It();return _.Bs.getEntries(H,A).next($=>{Y=$,Y.forEach((dt,st)=>{st.isValidDocument()||(tt=tt.add(dt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,Y)).next($=>{C=$;const dt=[];for(const st of g){const ot=Ob(st,C.get(st.key).overlayedDocument);ot!=null&&dt.push(new vs(st.key,ot,Iv(ot.value.mapValue),Oi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,dt,g)}).next($=>{D=$;const dt=$.applyToLocalDocumentSet(C,tt);return _.documentOverlayCache.saveOverlays(H,$.batchId,dt)})}).then(()=>({batchId:D.batchId,changes:qv(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Iu[d.currentUser.toKey()];v||(v=new re(wt)),v=v.insert(g,_),d.Iu[d.currentUser.toKey()]=v}(a,o.batchId,i),await po(a,o.changes),await Rc(a.remoteStore)}catch(o){const h=Ld(o,"Failed to persist write");i.reject(h)}}async function b0(s,e){const i=At(s);try{const a=await NS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Pu.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?Bt(d._u,14607):o.removedDocuments.size>0&&(Bt(d._u,42227),d._u=!1))}),await po(i,a,e)}catch(a){await Ca(a)}}function R_(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=At(d);_.onlineState=g;let v=!1;_.queries.forEach((A,C)=>{for(const D of C.ya)D.Da(g)&&(v=!0)}),v&&Pd(_)}(a.eventManager,e),o.length&&a.au.j_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function T2(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Pu.get(e),h=o&&o.key;if(h){let d=new re(ft.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const g=It().add(h),_=new Ac(Tt.min(),new Map,new re(wt),d,g);await b0(a,_),a.hu=a.hu.remove(h),a.Pu.delete(e),jd(a)}else await od(a.localStore,e,!1).then(()=>hd(a,e,i)).catch(Ca)}async function A2(s,e){const i=At(s),a=e.batch.batchId;try{const o=await DS(i.localStore,e);R0(i,a,null),S0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await po(i,o)}catch(o){await Ca(o)}}async function b2(s,e,i){const a=At(s);try{const o=await function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(C=>(Bt(C!==null,37113),A=C.keys(),_.mutationQueue.removeMutationBatch(v,C))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);R0(a,e,i),S0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await po(a,o)}catch(o){await Ca(o)}}function S0(s,e){(s.Eu.get(e)||[]).forEach(i=>{i.resolve()}),s.Eu.delete(e)}function R0(s,e,i){const a=At(s);let o=a.Iu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Iu[a.currentUser.toKey()]=o}}function hd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.cu.get(e))s.uu.delete(a),i&&s.au.Vu(a,i);s.cu.delete(e),s.isPrimaryClient&&s.Tu.Hr(e).forEach(a=>{s.Tu.containsKey(a)||w0(s,a)})}function w0(s,e){s.lu.delete(e.path.canonicalString());const i=s.hu.get(e);i!==null&&(Vd(s.remoteStore,i),s.hu=s.hu.remove(e),s.Pu.delete(i),jd(s))}function w_(s,e,i){for(const a of i)a instanceof E0?(s.Tu.addReference(a.key,e),S2(s,a)):a instanceof T0?(rt(zd,"Document no longer in limbo: "+a.key),s.Tu.removeReference(a.key,e),s.Tu.containsKey(a.key)||w0(s,a.key)):vt(19791,{mu:a})}function S2(s,e){const i=e.key,a=i.path.canonicalString();s.hu.get(i)||s.lu.has(a)||(rt(zd,"New document in limbo: "+i),s.lu.add(a),jd(s))}function jd(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const e=s.lu.values().next().value;s.lu.delete(e);const i=new ft(Wt.fromString(e)),a=s.du.next();s.Pu.set(a,new d2(i)),s.hu=s.hu.insert(i,a),m0(s.remoteStore,new dr(ri(bd(i.path)),a,"TargetPurposeLimboResolution",gc.le))}}async function po(s,e,i){const a=At(s),o=[],h=[],d=[];a.uu.isEmpty()||(a.uu.forEach((g,_)=>{d.push(a.Ru(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){o.push(v);const C=Nd.Rs(_.targetId,v);h.push(C)}}))}),await Promise.all(d),a.au.j_(o),await async function(_,v){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Z.forEach(v,D=>Z.forEach(D.ds,H=>A.persistence.referenceDelegate.addReference(C,D.targetId,H)).next(()=>Z.forEach(D.As,H=>A.persistence.referenceDelegate.removeReference(C,D.targetId,H)))))}catch(C){if(!Da(C))throw C;rt(Id,"Failed to update sequence numbers: "+C)}for(const C of v){const D=C.targetId;if(!C.fromCache){const H=A.xs.get(D),Y=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(Y);A.xs=A.xs.insert(D,tt)}}}(a.localStore,h))}async function R2(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){rt(zd,"User change. New user:",e.toKey());const a=await c0(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(_=>{_.reject(new lt(J.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await po(i,a.ks)}}function w2(s,e){const i=At(s),a=i.Pu.get(e);if(a&&a._u)return It().add(a.key);{let o=It();const h=i.cu.get(e);if(!h)return o;for(const d of h){const g=i.uu.get(d);o=o.unionWith(g.view.Ya)}return o}}function x0(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.au.j_=o2.bind(null,e.eventManager),e.au.Vu=u2.bind(null,e.eventManager),e}function x2(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b2.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return CS(this.persistence,new RS,e.initialUser,this.serializer)}yu(e){return new u0(Dd.fi,this.serializer)}pu(e){return new US}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class C2 extends fc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){Bt(this.persistence.referenceDelegate instanceof cc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new cS(a,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new u0(a=>cc.fi(a,i),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>R_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),a=function(h){return new jS(h)}(e.databaseInfo);return function(h,d,g,_){return new GS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new QS(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>R_(this.syncEngine,i,0),function(){return v_.C()?new v_:new kS}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const C=new m2(o,h,d,g,_,v);return A&&(C.Au=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);rt(ms,"RemoteStore shutting down."),h.Ta.add(5),await go(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class N2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ld(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function qf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(Sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await c0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function x_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await I2(s);rt(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>T_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>T_(e.remoteStore,o)),s._onlineComponents=e}async function I2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Sr,"Using user provided OfflineComponentProvider");try{await qf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ea("Error using user provided cache. Falling back to memory cache: "+i),await qf(s,new fc)}}else rt(Sr,"Using default OfflineComponentProvider"),await qf(s,new C2(void 0));return s._offlineComponents}async function C0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Sr,"Using user provided OnlineComponentProvider"),await x_(s,s._uninitializedComponentsProvider._online)):(rt(Sr,"Using default OnlineComponentProvider"),await x_(s,new fd))),s._onlineComponents}function V2(s){return C0(s).then(e=>e.syncEngine)}async function C_(s){const e=await C0(s),i=e.eventManager;return i.onListen=g2.bind(null,e.syncEngine),i.onUnlisten=_2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=p2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=v2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(s,e,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function O2(s,e,i,a){if(e===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N_(s){if(!ft.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function I_(s){if(ft.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Wl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wc(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firestore.googleapis.com",V_=!0;class O_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I0,this.ssl=V_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oS)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new PA;switch(a.type){case"firstParty":return new qA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=D_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),D_.delete(i),a.terminate())}(this),Promise.resolve()}}function M2(s,e,i,a={}){var o;s=Wl(s,xc);const h=ho(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(J_(`https://${_}`),tv("Firestore",!0)),d.host!==I0&&d.host!==_&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!nc(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Ye.MOCK_USER;else{A=W_(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ye(D)}s._authCredentials=new zA(new vv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class gn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class _r extends Ts{constructor(e,i,a){super(e,i,bd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ft(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function V0(s,e,...i){if(s=Ln(s),N0("collection","path",e),s instanceof xc){const a=Wt.fromString(e,...i);return I_(a),new _r(s,null,a)}{if(!(s instanceof gn||s instanceof _r))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return I_(a),new _r(s.firestore,null,a)}}function U2(s,e,...i){if(s=Ln(s),arguments.length===1&&(e=Tv.newId()),N0("doc","path",e),s instanceof xc){const a=Wt.fromString(e,...i);return N_(a),new gn(s,null,new ft(a))}{if(!(s instanceof gn||s instanceof _r))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return N_(a),new gn(s.firestore,s instanceof _r?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="AsyncQueue";class U_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new f0(this,"async_queue_retry"),this.ec=()=>{const a=Bf();a&&rt(M_,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new hs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Da(e))throw e;rt(M_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Ui("INTERNAL UNHANDLED ERROR: ",k_(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=i,i}enqueueAfterDelay(e,i,a){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,a,h=>this.oc(h));return this.Hu.push(o),o}nc(){this.Ju&&vt(47125,{_c:k_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function k_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(s,["next","error","complete"])}class dc extends xc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new U_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U_(e),this._firestoreClient=void 0,await e}}}function k2(s,e){const i=typeof s=="object"?s:uv(),a=typeof s=="string"?s:sc,o=sv(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=Z_("firestore");h&&M2(o,...h)}return o}function O0(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||L2(s),s._firestoreClient}function L2(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,A){return new ib(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,D0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new N2(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(qe.fromBase64String(e))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wa(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^__.*__$/;class z2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}function M0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{hc:s})}}class Fd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Fd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:a,Ec:!1});return o.dc(e),o}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:a,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return mc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(M0(this.hc)&&P2.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class j2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||bc(e)}gc(e,i,a,o=!1){return new Fd({hc:e,methodName:i,fc:a,path:Be.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U0(s){const e=s._freezeSettings(),i=bc(s._databaseId);return new j2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function B2(s,e,i,a,o,h={}){const d=s.gc(h.merge||h.mergeFields?2:0,e,i,o);P0("Data must be an object, but it was:",d,a);const g=k0(a,d);let _,v;if(h.merge)_=new kn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const D=H2(e,C,i);if(!d.contains(D))throw new lt(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);F2(A,D)||A.push(D)}_=new kn(A),v=d.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=d.fieldTransforms;return new z2(new Dn(g),_,v)}class Qd extends qd{_toFieldTransform(e){return new Db(e.path,new oo)}isEqual(e){return e instanceof Qd}}function q2(s,e,i,a=!1){return Yd(i,s.gc(a?4:3,e))}function Yd(s,e){if(L0(s=Ln(s)))return P0("Unsupported field value:",e,s),k0(s,e);if(s instanceof qd)return function(a,o){if(!M0(o.hc))throw o.Vc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Yd(g,o.Rc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=Ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=we.fromDate(a);return{timestampValue:uc(o.serializer,h)}}if(a instanceof we){const h=new we(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uc(o.serializer,h)}}if(a instanceof Hd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wa)return{bytesValue:e0(o.serializer,a._byteString)};if(a instanceof gn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:xd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gd)return function(d,g){return{mapValue:{fields:{[Dv]:{stringValue:Nv},[ac]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Vc("VectorValues must only contain numeric values.");return Sd(g.serializer,v)})}}}}}}(a,o);throw o.Vc(`Unsupported field value: ${wc(a)}`)}(s,e)}function k0(s,e){const i={};return bv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(s,(a,o)=>{const h=Yd(o,e.Ic(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function L0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof we||s instanceof Hd||s instanceof wa||s instanceof gn||s instanceof qd||s instanceof Gd)}function P0(s,e,i){if(!L0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=wc(i);throw a==="an object"?e.Vc(s+" a custom object"):e.Vc(s+" "+a)}}function H2(s,e,i){if((e=Ln(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return z0(s,e);throw mc("Field path arguments must be of type string or ",s,!1,void 0,i)}const G2=new RegExp("[~\\*/\\[\\]]");function z0(s,e,i){if(e.search(G2)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Bd(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new lt(J.INVALID_ARGUMENT,g+s+_)}function F2(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Kd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends j0{data(){return super.data()}}function Kd(s,e){return typeof e=="string"?z0(s,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xd{}class B0 extends Xd{}function K2(s,e,...i){let a=[];e instanceof Xd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof $d).length,g=h.filter(_=>_ instanceof Zd).length;if(d>1||d>0&&g>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class Zd extends B0{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Zd(e,i,a)}_apply(e){const i=this._parse(e);return q0(e._query,i),new Ts(e.firestore,e.converter,nd(e._query,i))}_parse(e){const i=U0(e.firestore);return function(h,d,g,_,v,A,C){let D;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){z_(C,A);const Y=[];for(const tt of C)Y.push(P_(_,h,tt));D={arrayValue:{values:Y}}}else D=P_(_,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||z_(C,A),D=q2(g,d,C,A==="in"||A==="not-in");return Ee.create(v,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends Xd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $d(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Pn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)q0(d,_),d=nd(d,_)}(e._query,i),new Ts(e.firestore,e.converter,nd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jd extends B0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Jd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lo(h,d)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Na(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function X2(s,e="asc"){const i=e,a=Kd("orderBy",s);return Jd._create(a,i)}function P_(s,e,i){if(typeof(i=Ln(i))=="string"){if(i==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pv(e)&&i.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Wt.fromString(i));if(!ft.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $y(s,new ft(a))}if(i instanceof gn)return $y(s,i._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wc(i)}.`)}function z_(s,e){if(!Array.isArray(s)||s.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q0(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Z2{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ys(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[ac].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new Gd(h)}convertGeoPoint(e){return new Hd(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Er(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Wt.fromString(e);Bt(l0(a),9688,{name:e});const o=new so(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return o.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H0 extends j0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Kd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class tc extends H0{data(e={}){return super.data(e)}}class J2{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new tc(this._firestore,this._userDataWriter,a.key,a,new Yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new tc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new tc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:W2(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function W2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}class G0 extends Z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,i)}}function tR(s,e){const i=Wl(s.firestore,dc),a=U2(s),o=$2(s.converter,e);return nR(i,[B2(U0(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Oi.exists(!1))]).then(()=>a)}function eR(s,...e){var i,a,o;s=Ln(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||L_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(L_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),e[d+2]=(o=C.complete)===null||o===void 0?void 0:o.bind(C)}let _,v,A;if(s instanceof gn)v=Wl(s.firestore,dc),A=bd(s._key.path),_={next:C=>{e[d]&&e[d](iR(v,s,C))},error:e[d+1],complete:e[d+2]};else{const C=Wl(s,Ts);v=Wl(C.firestore,dc),A=C._query;const D=new G0(v);_={next:H=>{e[d]&&e[d](new J2(v,D,C,H))},error:e[d+1],complete:e[d+2]},Y2(s._query)}return function(D,H,Y,tt){const $=new D2(tt),dt=new c2(H,$,Y);return D.asyncQueue.enqueueAndForget(async()=>a2(await C_(D),dt)),()=>{$.Cu(),D.asyncQueue.enqueueAndForget(async()=>l2(await C_(D),dt))}}(O0(v),A,g,_)}function nR(s,e){return function(a,o){const h=new hs;return a.asyncQueue.enqueueAndForget(async()=>E2(await V2(a),o,h)),h.promise}(O0(s),e)}function iR(s,e,i){const a=i.docs.get(e._key),o=new G0(s);return new H0(s,o,e._key,a,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}function rR(){return new Qd("serverTimestamp")}(function(e,i=!0){(function(o){xa=o})(lv),eo(new va("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new dc(new jA(a.getProvider("auth-internal")),new HA(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),pr(zy,jy,e),pr(zy,jy,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebasestorage.googleapis.com",Q0="storageBucket",sR=2*60*1e3,aR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue extends ps{constructor(e,i,a=0){super(Hf(e),`Firebase Storage: ${i} (${Hf(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ue.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oe;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oe||(oe={}));function Hf(s){return"storage/"+s}function Wd(){const s="An unknown error occurred, please check the error payload for server response.";return new ue(oe.UNKNOWN,s)}function lR(s){return new ue(oe.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function oR(s){return new ue(oe.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uR(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ue(oe.UNAUTHENTICATED,s)}function cR(){return new ue(oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hR(s){return new ue(oe.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function fR(){return new ue(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dR(){return new ue(oe.CANCELED,"User canceled the upload/download.")}function mR(s){return new ue(oe.INVALID_URL,"Invalid URL '"+s+"'.")}function gR(s){return new ue(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function pR(){return new ue(oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q0+"' property when initializing the app?")}function yR(){return new ue(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _R(){return new ue(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vR(s){return new ue(oe.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dd(s){return new ue(oe.INVALID_ARGUMENT,s)}function Y0(){return new ue(oe.APP_DELETED,"The Firebase app was deleted.")}function ER(s){return new ue(oe.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function to(s,e){return new ue(oe.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Hl(s){throw new ue(oe.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=mn.makeFromUrl(e,i)}catch{return new mn(e,"")}if(a.path==="")return a;throw gR(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(pt){pt.path.charAt(pt.path.length-1)==="/"&&(pt.path_=pt.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function v(pt){pt.path_=decodeURIComponent(pt.path)}const A="v[A-Za-z0-9_]+",C=i.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",H=new RegExp(`^https?://${C}/${A}/b/${o}/o${D}`,"i"),Y={bucket:1,path:3},tt=i===F0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,$="([^?#]*)",dt=new RegExp(`^https?://${tt}/${o}/${$}`,"i"),ot=[{regex:g,indices:_,postModify:h},{regex:H,indices:Y,postModify:v},{regex:dt,indices:{bucket:1,path:2},postModify:v}];for(let pt=0;pt<ot.length;pt++){const mt=ot[pt],Ct=mt.regex.exec(e);if(Ct){const V=Ct[mt.indices.bucket];let S=Ct[mt.indices.path];S||(S=""),a=new mn(V,S),mt.postModify(a);break}}if(a==null)throw mR(e);return a}}class TR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s,e,i){let a=1,o=null,h=null,d=!1,g=0;function _(){return g===2}let v=!1;function A(...$){v||(v=!0,e.apply(null,$))}function C($){o=setTimeout(()=>{o=null,s(H,_())},$)}function D(){h&&clearTimeout(h)}function H($,...dt){if(v){D();return}if($){D(),A.call(null,$,...dt);return}if(_()||d){D(),A.call(null,$,...dt);return}a<64&&(a*=2);let ot;g===1?(g=2,ot=0):ot=(a+Math.random())*1e3,C(ot)}let Y=!1;function tt($){Y||(Y=!0,D(),!v&&(o!==null?($||(g=2),clearTimeout(o),C(0)):$||(g=1)))}return C(0),h=setTimeout(()=>{d=!0,tt(!0)},i),tt}function bR(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(s){return s!==void 0}function RR(s){return typeof s=="object"&&!Array.isArray(s)}function tm(s){return typeof s=="string"||s instanceof String}function j_(s){return em()&&s instanceof Blob}function em(){return typeof Blob<"u"}function B_(s,e,i,a){if(a<e)throw dd(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>i)throw dd(`Invalid value for '${s}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(s,e,i){let a=e;return i==null&&(a=`https://${e}`),`${i}://${a}/v0${s}`}function K0(s){const e=encodeURIComponent;let i="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var fs;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(s,e){const i=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,h=e.indexOf(s)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i,a,o,h,d,g,_,v,A,C,D=!0,H=!1){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=C,this.retry=D,this.isUsingEmulator=H,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Y,tt)=>{this.resolve_=Y,this.reject_=tt,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Yu(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=g=>{const _=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const g=h.getErrorCode()===fs.NO_ERROR,_=h.getStatus();if(!g||wR(_,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===fs.ABORT;a(!1,new Yu(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;a(!0,new Yu(v,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());SR(_)?h(_):h()}catch(_){d(_)}else if(g!==null){const _=Wd();_.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,_)):d(_)}else if(o.canceled){const _=this.appDelete_?Y0():dR();d(_)}else{const _=fR();d(_)}};this.canceled_?i(!1,new Yu(!1,null,!0)):this.backoffId_=AR(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yu{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function CR(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function DR(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NR(s,e){e&&(s["X-Firebase-GMPID"]=e)}function IR(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function VR(s,e,i,a,o,h,d=!0,g=!1){const _=K0(s.urlParams),v=s.url+_,A=Object.assign({},s.headers);return NR(A,e),CR(A,i),DR(A,h),IR(A,a),new xR(v,s.method,A,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MR(...s){const e=OR();if(e!==void 0){const i=new e;for(let a=0;a<s.length;a++)i.append(s[a]);return i.getBlob()}else{if(em())return new Blob(s);throw new ue(oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UR(s,e,i){return s.webkitSlice?s.webkitSlice(e,i):s.mozSlice?s.mozSlice(e,i):s.slice?s.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(s){if(typeof atob>"u")throw vR("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gf{constructor(e,i){this.data=e,this.contentType=i||null}}function LR(s,e){switch(s){case ii.RAW:return new Gf(X0(e));case ii.BASE64:case ii.BASE64URL:return new Gf(Z0(s,e));case ii.DATA_URL:return new Gf(zR(e),jR(e))}throw Wd()}function X0(s){const e=[];for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const h=a,d=s.charCodeAt(++i);a=65536|(h&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function PR(s){let e;try{e=decodeURIComponent(s)}catch{throw to(ii.DATA_URL,"Malformed data URL.")}return X0(e)}function Z0(s,e){switch(s){case ii.BASE64:{const o=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(o||h)throw to(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const o=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(o||h)throw to(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=kR(e)}catch(o){throw o.message.includes("polyfill")?o:to(s,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class $0{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw to(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=BR(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function zR(s){const e=new $0(s);return e.base64?Z0(ii.BASE64,e.rest):PR(e.rest)}function jR(s){return new $0(s).contentType}function BR(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i){let a=0,o="";j_(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(j_(this.data_)){const a=this.data_,o=UR(a,e,i);return o===null?null:new fr(o)}else{const a=new Uint8Array(this.data_.buffer,e,i-e);return new fr(a,!0)}}static getBlob(...e){if(em()){const i=e.map(a=>a instanceof fr?a.data_:a);return new fr(MR.apply(null,i))}else{const i=e.map(d=>tm(d)?LR(ii.RAW,d).data:d.data_);let a=0;i.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let h=0;return i.forEach(d=>{for(let g=0;g<d.length;g++)o[h++]=d[g]}),new fr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(s){let e;try{e=JSON.parse(s)}catch{return null}return RR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function HR(s,e){const i=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?i:s+"/"+i}function W0(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(s,e){return e}class We{constructor(e,i,a,o){this.server=e,this.local=i||e,this.writable=!!a,this.xform=o||GR}}let Ku=null;function FR(s){return!tm(s)||s.length<2?s:W0(s)}function tE(){if(Ku)return Ku;const s=[];s.push(new We("bucket")),s.push(new We("generation")),s.push(new We("metageneration")),s.push(new We("name","fullPath",!0));function e(h,d){return FR(d)}const i=new We("name");i.xform=e,s.push(i);function a(h,d){return d!==void 0?Number(d):d}const o=new We("size");return o.xform=a,s.push(o),s.push(new We("timeCreated")),s.push(new We("updated")),s.push(new We("md5Hash",null,!0)),s.push(new We("cacheControl",null,!0)),s.push(new We("contentDisposition",null,!0)),s.push(new We("contentEncoding",null,!0)),s.push(new We("contentLanguage",null,!0)),s.push(new We("contentType",null,!0)),s.push(new We("metadata","customMetadata",!0)),Ku=s,Ku}function QR(s,e){function i(){const a=s.bucket,o=s.fullPath,h=new mn(a,o);return e._makeStorageReference(h)}Object.defineProperty(s,"ref",{get:i})}function YR(s,e,i){const a={};a.type="file";const o=i.length;for(let h=0;h<o;h++){const d=i[h];a[d.local]=d.xform(a,e[d.server])}return QR(a,s),a}function eE(s,e,i){const a=J0(e);return a===null?null:YR(s,a,i)}function KR(s,e,i,a){const o=J0(e);if(o===null||!tm(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(v=>{const A=s.bucket,C=s.fullPath,D="/b/"+d(A)+"/o/"+d(C),H=nm(D,i,a),Y=K0({alt:"media",token:v});return H+Y})[0]}function XR(s,e){const i={},a=e.length;for(let o=0;o<a;o++){const h=e[o];h.writable&&(i[h.server]=s[h.local])}return JSON.stringify(i)}class nE{constructor(e,i,a,o){this.url=e,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(s){if(!s)throw Wd()}function ZR(s,e){function i(a,o){const h=eE(s,o,e);return iE(h!==null),h}return i}function $R(s,e){function i(a,o){const h=eE(s,o,e);return iE(h!==null),KR(h,o,s.host,s._protocol)}return i}function rE(s){function e(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=cR():o=uR():i.getStatus()===402?o=oR(s.bucket):i.getStatus()===403?o=hR(s.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return e}function JR(s){const e=rE(s);function i(a,o){let h=e(a,o);return a.getStatus()===404&&(h=lR(s.path)),h.serverResponse=o.serverResponse,h}return i}function WR(s,e,i){const a=e.fullServerUrl(),o=nm(a,s.host,s._protocol),h="GET",d=s.maxOperationRetryTime,g=new nE(o,h,$R(s,i),d);return g.errorHandler=JR(e),g}function tw(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function ew(s,e,i){const a=Object.assign({},i);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=tw(null,e)),a}function nw(s,e,i,a,o){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let ot="";for(let pt=0;pt<2;pt++)ot=ot+Math.random().toString().slice(2);return ot}const _=g();d["Content-Type"]="multipart/related; boundary="+_;const v=ew(e,a,o),A=XR(v,i),C="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+_+`\r
Content-Type: `+v.contentType+`\r
\r
`,D=`\r
--`+_+"--",H=fr.getBlob(C,a,D);if(H===null)throw yR();const Y={name:v.fullPath},tt=nm(h,s.host,s._protocol),$="POST",dt=s.maxUploadRetryTime,st=new nE(tt,$,ZR(s,i),dt);return st.urlParams=Y,st.headers=d,st.body=H.uploadData(),st.errorHandler=rE(e),st}class iw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,a,o,h){if(this.sent_)throw Hl("cannot .send() more than once");if(ho(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rw extends iw{initXhr(){this.xhr_.responseType="text"}}function sE(){return new rw}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,i){this._service=e,i instanceof mn?this._location=i:this._location=mn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new gs(e,i)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W0(this._location.path)}get storage(){return this._service}get parent(){const e=qR(this._location.path);if(e===null)return null;const i=new mn(this._location.bucket,e);return new gs(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw ER(e)}}function sw(s,e,i){s._throwIfRoot("uploadBytes");const a=nw(s.storage,s._location,tE(),new fr(e,!0),i);return s.storage.makeRequestWithTokens(a,sE).then(o=>({metadata:o,ref:s}))}function aw(s){s._throwIfRoot("getDownloadURL");const e=WR(s.storage,s._location,tE());return s.storage.makeRequestWithTokens(e,sE).then(i=>{if(i===null)throw _R();return i})}function lw(s,e){const i=HR(s._location.path,e),a=new mn(s._location.bucket,i);return new gs(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(s){return/^[A-Za-z]+:\/\//.test(s)}function uw(s,e){return new gs(s,e)}function aE(s,e){if(s instanceof im){const i=s;if(i._bucket==null)throw pR();const a=new gs(i,i._bucket);return e!=null?aE(a,e):a}else return e!==void 0?lw(s,e):s}function cw(s,e){if(e&&ow(e)){if(s instanceof im)return uw(s,e);throw dd("To use ref(service, url), the first argument must be a Storage instance.")}else return aE(s,e)}function q_(s,e){const i=e==null?void 0:e[Q0];return i==null?null:mn.makeFromBucketSpec(i,s)}function hw(s,e,i,a={}){s.host=`${e}:${i}`;const o=ho(e);o&&(J_(`https://${s.host}`),tv("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:h}=a;h&&(s._overrideAuthToken=typeof h=="string"?h:W_(h,s.app.options.projectId))}class im{constructor(e,i,a,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=F0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sR,this._maxUploadRetryTime=aR,this._requests=new Set,o!=null?this._bucket=mn.makeFromBucketSpec(o,this._host):this._bucket=q_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,e):this._bucket=q_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(av(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gs(this,e)}_makeRequest(e,i,a,o,h=!0){if(this._deleted)return new TR(Y0());{const d=VR(e,this._appId,a,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const H_="@firebase/storage",G_="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="storage";function fw(s,e,i){return s=Ln(s),sw(s,e,i)}function dw(s){return s=Ln(s),aw(s)}function mw(s,e){return s=Ln(s),cw(s,e)}function gw(s=uv(),e){s=Ln(s);const a=sv(s,lE).getImmediate({identifier:e}),o=Z_("storage");return o&&pw(a,...o),a}function pw(s,e,i,a={}){hw(s,e,i,a)}function yw(s,{instanceIdentifier:e}){const i=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new im(i,a,o,e,lv)}function _w(){eo(new va(lE,yw,"PUBLIC").setMultipleInstances(!0)),pr(H_,G_,""),pr(H_,G_,"esm2017")}_w();var vw="firebase",Ew="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(vw,Ew,"app");const Tw={apiKey:"AIzaSyDNSBDmRqI6gPRaxQXg27m20vaYTyYekzc",authDomain:"refugio-pys.firebaseapp.com",projectId:"refugio-pys",storageBucket:"refugio-pys.firebasestorage.app",messagingSenderId:"36131228530",appId:"1:36131228530:web:242b60b21987741aba2beb"},oE=ov(Tw),uE=k2(oE),Aw=gw(oE),F_=async s=>{try{const e=await tR(V0(uE,"posts"),{...s,createdAt:rR()});return console.log("✅ Post guardado con ID:",e.id),e.id}catch(e){throw console.error("❌ Error guardando post:",e),e}},bw=s=>{const e=K2(V0(uE,"posts"),X2("createdAt","desc"));return eR(e,i=>{const a=i.docs.map(o=>{const h=o.data();return{id:o.id,...h,date:h.createdAt?h.createdAt.toDate().toISOString():new Date().toISOString()}});console.log("🔄 Posts actualizados en tiempo real:",a.length),s(a)},i=>{console.error("❌ Error en tiempo real:",i),s([])})},Sw=async(s,e="uploads")=>{try{const a=`${Date.now()}_${s.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,o=mw(Aw,`${e}/${a}`);console.log("📤 Subiendo archivo:",a);const h=await fw(o,s),d=await dw(h.ref);return console.log("✅ Archivo subido exitosamente:",d),d}catch(i){throw console.error("❌ Error subiendo archivo:",i),i}},Rw=`
  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  @keyframes fadeIn {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .overflow-wrap-anywhere {
    overflow-wrap: anywhere;
    word-break: break-word;
  }
`;if(typeof document<"u"&&!document.querySelector("#modal-styles")){const e=document.createElement("style");e.id="modal-styles",e.textContent=Rw,document.head.appendChild(e)}const ww=()=>{const[s,e]=ie.useState(!1),[i,a]=ie.useState(!1),[o,h]=ie.useState(""),[d,g]=ie.useState([]),[_,v]=ie.useState(!1),[A,C]=ie.useState({title:"",content:"",color:"pink",type:"text"}),[D,H]=ie.useState(""),[Y,tt]=ie.useState(null),[$,dt]=ie.useState(!1),[st,ot]=ie.useState(!1),[pt,mt]=ie.useState(""),[Ct,V]=ie.useState(!1),[S,x]=ie.useState(null),[I,O]=ie.useState(null),U=ie.useRef(null),w=ie.useRef(null);ie.useEffect(()=>{const b=localStorage.getItem("currentUser")||"";H(b),b&&(e(!0),b==="Ternurin"?document.body.style.background="linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)":b==="Princesita Flojita"&&(document.body.style.background="linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"),me());const F=()=>{document.hidden&&setTimeout(()=>{document.hidden&&(e(!1),H(""),localStorage.removeItem("currentUser"),document.body.style.background="")},3e4)},nt=()=>{e(!1),H(""),localStorage.removeItem("currentUser"),document.body.style.background=""};let W;const ct=()=>{clearTimeout(W),W=setTimeout(()=>{s&&(e(!1),H(""),localStorage.removeItem("currentUser"),document.body.style.background="")},5*60*1e3)},bt=["mousedown","mousemove","keypress","scroll","touchstart","click"];return b&&(document.addEventListener("visibilitychange",F),window.addEventListener("beforeunload",nt),bt.forEach(yt=>{document.addEventListener(yt,ct,!0)}),ct()),()=>{document.removeEventListener("visibilitychange",F),window.removeEventListener("beforeunload",nt),bt.forEach(yt=>{document.removeEventListener(yt,ct,!0)}),clearTimeout(W)}},[s]);const me=()=>{dt(!0);const b=bw(F=>{console.log("🔄 Recibidos posts de Firebase:",F.length),g(F),dt(!1)});return()=>{console.log("🔌 Desconectando listener de Firebase"),b()}},Jt=async()=>{let b="",F="";if(o==="1307")b="Princesita Flojita",F="linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)";else if(o==="1810")b="Ternurin",F="linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)";else{alert("Contraseña incorrecta ❤️"),h("");return}e(!0),a(!1),h(""),document.body.style.background=F,localStorage.setItem("currentUser",b),H(b),me()},G=async()=>{if(!(!A.title.trim()&&!A.content.trim())){dt(!0);try{const b={title:A.title,content:A.content,color:A.color,type:A.type,author:D||"Anónimo"};await F_(b),console.log("✅ Post guardado exitosamente"),C({title:"",content:"",color:"pink",type:"text"}),v(!1)}catch(b){console.error("❌ Error guardando post:",b),alert("Error guardando la nota. Inténtalo de nuevo.")}dt(!1)}},it=async(b,F)=>{const nt=b.target.files[0];if(nt){if(nt.size>10*1024*1024){alert("Archivo muy grande. Máximo 10MB.");return}x(nt),O(F),V(!0),b.target.value=""}},ut=async()=>{if(S){ot(!0),V(!1);try{console.log(`📤 Subiendo ${I}:`,S.name);const b=await Sw(S,I==="image"?"images":"audio"),F={title:pt.trim()||(I==="image"?"Nueva foto para ti 📸":"Audio mensaje 🎵"),content:b,color:I==="image"?"yellow":"green",type:I,author:D||"Anónimo"};await F_(F),console.log("✅ Archivo subido y post creado"),mt(""),x(null),O(null)}catch(b){console.error("❌ Error subiendo archivo:",b),alert(`Error subiendo ${I}. Inténtalo de nuevo.`)}ot(!1)}},Vt=b=>{const F={pink:"bg-pink-200 border-pink-300 shadow-pink-200/50",blue:"bg-blue-200 border-blue-300 shadow-blue-200/50",yellow:"bg-yellow-200 border-yellow-300 shadow-yellow-200/50",green:"bg-green-200 border-green-300 shadow-green-200/50",purple:"bg-purple-200 border-purple-300 shadow-purple-200/50"};return F[b]||F.pink};return s?L.jsx("div",{className:"min-h-screen p-4",style:{background:`
          linear-gradient(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.2)),
          url('/peony.jpg')
        `,backgroundSize:"cover",backgroundPosition:"center"},children:L.jsxs("div",{className:"max-w-4xl mx-auto",children:[L.jsxs("div",{className:"text-center mb-8 bg-white/70 backdrop-blur-lg rounded-2xl p-6 shadow-xl",children:[L.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r text-rose-600 bg-clip-text mb-2",children:["Nuestro Refugio PyS ",L.jsx(ql,{className:"inline w-6 h-6 text-red-500"})]}),L.jsx("p",{className:"text-gray-600",children:"Un lugar especial para nuestro amor"}),D&&L.jsx("p",{className:`text-sm mt-2 font-semibold ${D==="Ternurin"?"text-blue-600":"text-pink-600"}`,children:"Bienvenida mi princesita flojita❤️"}),L.jsxs("button",{onClick:()=>{e(!1),H(""),localStorage.removeItem("currentUser"),document.body.style.background=""},className:"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center gap-2 mx-auto shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[L.jsx(WT,{className:"w-4 h-4"}),"Ocultar Refugio"]})]}),$&&L.jsxs("div",{className:"text-center mb-8",children:[L.jsx(Bu,{className:"w-8 h-8 animate-spin text-pink-500 mx-auto mb-2"}),L.jsx("p",{className:"text-gray-600",children:"Cargando mensajitos chiiiiii..."})]}),L.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 justify-center",children:[L.jsxs("button",{onClick:()=>v(!0),disabled:$,className:"bg-gradient-to-r from-pink-400 to-purple-500 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all disabled:opacity-50",children:[L.jsx(l1,{className:"w-5 h-5"}),"Nueva Nota"]}),L.jsxs("button",{onClick:()=>{var b;return(b=U.current)==null?void 0:b.click()},disabled:st,className:"bg-gradient-to-r from-blue-400 to-cyan-500 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all disabled:opacity-50",children:[st?L.jsx(Bu,{className:"w-5 h-5 animate-spin"}):L.jsx(n1,{className:"w-5 h-5"}),st?"Subiendo...":"Subir Foto"]}),L.jsxs("button",{onClick:()=>{var b;return(b=w.current)==null?void 0:b.click()},disabled:st,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all disabled:opacity-50",children:[st?L.jsx(Bu,{className:"w-5 h-5 animate-spin"}):L.jsx(s1,{className:"w-5 h-5"}),st?"Subiendo...":"Audio"]})]}),L.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:b=>it(b,"image"),className:"hidden"}),L.jsx("input",{ref:w,type:"file",accept:"audio/*",onChange:b=>it(b,"audio"),className:"hidden"}),Ct&&L.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[L.jsxs("div",{className:"text-center mb-6",children:[L.jsx("div",{className:"text-4xl mb-4",children:I==="image"?"📸":"🎵"}),L.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:I==="image"?"Nueva Foto":"Nuevo Audio"}),L.jsx("p",{className:"text-gray-600",children:"¿Quieres agregar un título especial?"})]}),L.jsx("input",{type:"text",placeholder:I==="image"?"Ej: Nuestra cita en el parque 💕":"Ej: Te canto tu canción favorita 🎵",value:pt,onChange:b=>mt(b.target.value),className:"w-full p-3 border border-gray-300 rounded-lg mb-6 focus:border-pink-500 focus:outline-none",maxLength:"50"}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:()=>{V(!1),mt(""),x(null),O(null)},className:"flex-1 py-3 px-6 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-colors",children:"Cancelar"}),L.jsx("button",{onClick:ut,disabled:st,className:"flex-1 py-3 px-6 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 transition-colors disabled:opacity-50",children:st?"Subiendo...":"Subir"})]})]})}),_&&L.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Nueva Nota de Amor"}),L.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:L.jsx(wy,{className:"w-6 h-6"})})]}),L.jsx("input",{type:"text",placeholder:"Título (ej: Te extraño, ¿Te acuerdas?, Hoy pensé en ti...)",value:A.title,onChange:b=>C({...A,title:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg mb-4 focus:border-pink-500 focus:outline-none"}),L.jsx("textarea",{placeholder:"Escribe tu mensaje de amor aquí... 💕",value:A.content,onChange:b=>C({...A,content:b.target.value}),rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg mb-4 focus:border-pink-500 focus:outline-none resize-none"}),L.jsxs("div",{className:"flex gap-2 mb-4",children:[L.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Color:"}),["pink","blue","yellow","green","purple"].map(b=>L.jsx("button",{onClick:()=>C({...A,color:b}),className:`w-8 h-8 rounded-full border-2 ${A.color===b?"border-gray-800":"border-gray-300"} ${Vt(b).split(" ")[0]}`},b))]}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-3 px-6 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-colors",children:"Cancelar"}),L.jsxs("button",{onClick:G,disabled:$,className:"flex-1 py-3 px-6 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[$?L.jsx(Bu,{className:"w-4 h-4 animate-spin"}):null,$?"Guardando...":"Publicar"]})]})]})}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(b=>L.jsxs("div",{onClick:()=>tt(b),className:`${Vt(b.color)} p-6 rounded-2xl border-2 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 cursor-pointer h-80 flex flex-col`,children:[L.jsxs("div",{className:"flex justify-between items-start mb-3",children:[L.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight flex-1 pr-2 break-words line-clamp-2",children:b.title}),L.jsx("span",{className:`text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0 ${b.author==="Ternurin"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:b.author})]}),b.type==="text"&&L.jsx("div",{className:"text-gray-700 mb-3 leading-relaxed flex-1 overflow-hidden",children:b.content.length>120?L.jsxs(L.Fragment,{children:[L.jsxs("p",{className:"line-clamp-4",children:[b.content.substring(0,120),"..."]}),L.jsx("span",{className:"text-pink-600 text-sm font-medium mt-2 flex items-center gap-1",children:"Leer más ✨"})]}):L.jsx("p",{className:"line-clamp-4",children:b.content})}),b.type==="image"&&L.jsx("div",{className:"mb-3 flex-1 flex items-center justify-center overflow-hidden",children:L.jsx("img",{src:b.content,alt:"Foto de amor",className:"w-full h-40 object-contain rounded-lg shadow-md bg-white/20"})}),b.type==="audio"&&L.jsx("div",{className:"mb-3 flex-1 flex items-center justify-center",children:L.jsxs("div",{className:"w-full",children:[L.jsx("div",{className:"text-center text-2xl mb-2",children:"🎵"}),L.jsx("audio",{controls:!0,className:"w-full",children:L.jsx("source",{src:b.content,type:"audio/mpeg"})})]})}),L.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-auto pt-3",children:[L.jsxs("div",{className:"flex flex-col",children:[L.jsxs("span",{className:"flex items-center gap-1",children:[L.jsx(Ry,{className:"w-4 h-4"}),new Date(b.date).toLocaleDateString("es-ES")]}),L.jsx("span",{className:"text-xs text-gray-500 ml-5",children:new Date(b.date).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),L.jsx("div",{className:"flex items-center gap-2",children:L.jsx(ql,{className:"w-5 h-5 text-pink-500 fill-current"})})]})]},b.id))}),d.length===0&&!$&&L.jsxs("div",{className:"text-center py-16",children:[L.jsx(ql,{className:"w-16 h-16 text-pink-300 mx-auto mb-4"}),L.jsx("p",{className:"text-gray-500 text-lg",children:"Aún no hay mensajes de amor..."}),L.jsx("p",{className:"text-gray-400",children:"¡Crea el primero!"})]}),Y&&L.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-end sm:items-center justify-center z-50",children:[L.jsx("div",{className:"absolute inset-0",onClick:()=>tt(null)}),L.jsxs("div",{className:`relative w-full max-w-md mx-4 mb-4 sm:mb-0 ${Vt(Y.color)} p-8 rounded-3xl border-2 shadow-2xl animate-[slideUp_0.3s_ease-out] sm:animate-[fadeIn_0.3s_ease-out] max-h-[85vh] overflow-y-auto`,children:[L.jsx("button",{onClick:b=>{b.stopPropagation(),tt(null)},className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 bg-white/80 hover:bg-white/90 p-2 rounded-full transition-all shadow-md z-10",children:L.jsx(wy,{className:"w-5 h-5"})}),L.jsxs("div",{className:"mb-4 pr-12",children:[L.jsx("h3",{className:"font-bold text-gray-800 text-2xl leading-tight mb-3 break-words",children:Y.title}),L.jsx("span",{className:`text-sm px-3 py-1 rounded-full inline-block ${Y.author==="Ternurin"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:Y.author})]}),Y.type==="text"&&L.jsx("div",{className:"text-gray-700 mb-6 leading-relaxed text-lg break-words whitespace-pre-wrap overflow-wrap-anywhere",children:Y.content}),Y.type==="image"&&L.jsx("div",{className:"mb-6 text-center",children:L.jsx("img",{src:Y.content,alt:"Foto de amor",className:"max-w-full max-h-[60vh] object-contain rounded-2xl shadow-lg mx-auto"})}),Y.type==="audio"&&L.jsx("div",{className:"mb-6 text-center",children:L.jsxs("div",{className:"bg-white/70 p-6 rounded-2xl",children:[L.jsx("div",{className:"text-4xl mb-4",children:"🎵"}),L.jsx("audio",{controls:!0,className:"w-full max-w-sm mx-auto",children:L.jsx("source",{src:Y.content,type:"audio/mpeg"})})]})}),L.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[L.jsxs("div",{className:"flex flex-col",children:[L.jsxs("span",{className:"flex items-center gap-1",children:[L.jsx(Ry,{className:"w-4 h-4"}),new Date(Y.date).toLocaleDateString("es-ES")]}),L.jsx("span",{className:"text-xs text-gray-500 ml-5",children:new Date(Y.date).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),L.jsx("div",{className:"flex items-center gap-2",children:L.jsx(ql,{className:"w-5 h-5 text-pink-500 fill-current"})})]})]})]})]})}):L.jsxs("div",{className:"min-h-screen bg-white",children:[L.jsx("div",{className:"bg-black text-white",children:L.jsx("div",{className:"container mx-auto px-4 py-4",children:L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"🎬 CineHub"}),L.jsxs("nav",{className:"hidden md:flex gap-6 text-sm",children:[L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Cartelera"}),L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Estrenos"}),L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Críticas"}),L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Noticias"})]})]}),L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("input",{type:"text",placeholder:"Buscar películas...",className:"bg-gray-800 text-white px-3 py-2 rounded text-sm w-48 hidden md:block"}),L.jsx("button",{className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-sm",children:"Iniciar Sesión"})]})]})})}),L.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-700 text-white py-12",children:L.jsxs("div",{className:"container mx-auto px-4 text-center",children:[L.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Los Mejores Estrenos 2024"}),L.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Descubre las películas más esperadas del año"}),L.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[L.jsx("span",{className:"bg-red-600 px-4 py-2 rounded-full text-sm",children:"🔥 Trending"}),L.jsx("span",{className:"bg-blue-600 px-4 py-2 rounded-full text-sm",children:"⭐ Top Rated"}),L.jsx("span",{className:"bg-green-600 px-4 py-2 rounded-full text-sm",children:"🎬 Estrenos"})]})]})}),L.jsxs("div",{className:"container mx-auto px-4 py-12",children:[L.jsxs("div",{className:"flex justify-between items-center mb-8",children:[L.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:"En Cartelera"}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Todos"}),L.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",children:"Acción"}),L.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300",children:"Drama"})]})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Deadpool & Wolverine",year:"2024",rating:"8.7",genre:"Acción/Comedia",duration:"128 min",image:"/wolverine.jpg",description:"El mercenario bocazas se une al mutante con garras de adamantium en una aventura épica."},{title:"Inside Out 2",year:"2024",rating:"8.9",genre:"Animación/Familia",duration:"96 min",image:"/inside.jpg",description:"Riley entra en la adolescencia y nuevas emociones llegan a su mente."},{title:"Dune: Part Two",year:"2024",rating:"8.8",genre:"Sci-Fi/Drama",duration:"166 min",image:"/dune.jpg",description:"Paul Atreides se une a los Fremen en su guerra contra la Casa Harkonnen."},{title:"Wicked",year:"2024",rating:"8.5",genre:"Musical/Drama",duration:"160 min",image:"/wicked.jpg",description:"La historia no contada de las brujas de Oz antes de la llegada de Dorothy."},{title:"Gladiator II",year:"2024",rating:"8.1",genre:"Acción/Drama",duration:"148 min",image:"/gladiator.jpg",description:"Décadas después, el hijo de Maximus busca venganza en la arena romana."},{title:"Moana 2",year:"2024",rating:"8.3",genre:"Animación/Aventura",duration:"100 min",image:"/moana.jpg",description:"Moana emprende un nuevo viaje oceánico para salvar a su pueblo."},{title:"Beetlejuice Beetlejuice",year:"2024",rating:"7.9",genre:"Comedia/Terror",duration:"104 min",image:"/bettle.jpg",description:"El bio-exorcista más famoso regresa para causar más caos sobrenatural."},{title:"Alien: Romulus",year:"2024",rating:"8.2",genre:"Terror/Sci-Fi",duration:"119 min",image:"/alien.jpg",description:"Una nueva tripulación se enfrenta a la forma de vida más letal del universo."},{title:"Bad Boys: Ride or Die",year:"2024",rating:"7.8",genre:"Acción/Comedia",duration:"115 min",image:"/badboys.jpg",description:"Mike y Marcus regresan para su misión más peligrosa hasta la fecha."}].map((b,F)=>L.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all group",children:[L.jsxs("div",{className:"relative overflow-hidden",children:[L.jsx("img",{src:b.image,alt:b.title,className:"w-full h-80 object-cover group-hover:scale-105 transition-transform duration-300"}),L.jsxs("div",{className:"absolute top-3 right-3 bg-yellow-500 text-black px-2 py-1 rounded-md text-sm font-bold",children:["⭐ ",b.rating]}),L.jsx("div",{className:"absolute bottom-3 left-3 bg-black/70 text-white px-2 py-1 rounded text-xs",children:b.duration})]}),L.jsxs("div",{className:"p-4",children:[L.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-2 group-hover:text-red-600 transition-colors",children:b.title}),L.jsxs("div",{className:"flex justify-between items-center mb-3",children:[L.jsx("span",{className:"text-gray-600 text-sm",children:b.year}),L.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:b.genre})]}),L.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:b.description}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{className:"flex-1 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 text-sm",children:"Ver Horarios"}),L.jsx("button",{className:"bg-gray-200 text-gray-700 py-2 px-4 rounded hover:bg-gray-300 text-sm",children:"Trailer"})]})]})]},F))}),L.jsx("div",{className:"text-center mt-12",children:L.jsx("button",{onClick:()=>a(!0),className:"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 py-3 px-6 rounded-lg text-sm transition-all",children:"🎬 Contenido Especial"})})]}),L.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-12",children:L.jsxs("div",{className:"container mx-auto px-4 text-center",children:[L.jsx("p",{className:"text-gray-400",children:"© 2024 CineHub. Todos los derechos reservados."}),L.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Términos"}),L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Privacidad"}),L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Contacto"}),L.jsx("a",{href:"#",className:"hover:text-red-400",children:"Ayuda"})]})]})}),i&&L.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"text-center mb-6",children:[L.jsx(ql,{className:"w-12 h-12 text-pink-500 mx-auto mb-4"}),L.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Acceso Especial"}),L.jsx("p",{className:"text-gray-600",children:"Ingresa la fecha especial"})]}),L.jsx("input",{type:"password",value:o,onChange:b=>h(b.target.value),onKeyPress:b=>b.key==="Enter"&&Jt(),placeholder:"MMDD",className:"w-full p-4 border-2 border-gray-300 rounded-lg mb-6 text-center text-xl font-bold tracking-wider focus:border-pink-500 focus:outline-none",maxLength:"4"}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3 px-6 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-colors",children:"Cancelar"}),L.jsx("button",{onClick:Jt,className:"flex-1 py-3 px-6 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 transition-colors",children:"Entrar"})]})]})})]})};FT.createRoot(document.getElementById("root")).render(L.jsx(LT.StrictMode,{children:L.jsx(ww,{})}));
